import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as p}from"./index.C3W4X1sy.js";const P=()=>{const[o,u]=p.useState({kitake:70,yukitake:83,katahaba:44,mihaba:52}),[s,f]=p.useState({kitake:72,katahaba:46,sodetake:61,kyoui:110,jp_yukitake:84,jp_mihaba:55}),[h,g]=p.useState("overseas"),[d,v]=p.useState("just"),N=(a,r)=>{u(l=>({...l,[a]:Math.max(0,r)}))},m=(a,r)=>{f(l=>({...l,[a]:Math.max(0,r)}))},y=p.useMemo(()=>{const a={kitake:s.kitake,katahaba:s.katahaba,yukitake:0,mihaba:0};h==="overseas"?(a.yukitake=s.katahaba>0&&s.sodetake>0?s.katahaba/2+s.sodetake:0,a.mihaba=s.kyoui>0?s.kyoui/2:0):(a.yukitake=s.jp_yukitake,a.mihaba=s.jp_mihaba);const r={kitake:a.kitake-o.kitake,yukitake:a.yukitake-o.yukitake,katahaba:a.katahaba-o.katahaba,mihaba:a.mihaba-o.mihaba};let l=0;const b=1.5,n={};["kitake","yukitake","katahaba","mihaba"].forEach(w=>{const k=r[w];let j="same";k>b?(j="larger",l++):k<-b&&(j="smaller",l--),n[w]={diff:k,status:j}});let t="",i="";return d==="just"?l>1?(t="大きいかも",i="bg-yellow-500"):l<-1?(t="小さいかも",i="bg-red-500"):(t="ちょうどよさそう",i="bg-green-500"):d==="small"?l>0?(t="ちょうどよさそう",i="bg-green-500"):l===0?(t="小さいかも",i="bg-yellow-500"):(t="小さい可能性大",i="bg-red-500"):d==="large"&&(l<0?(t="ちょうどよさそう",i="bg-green-500"):l===0?(t="大きいかも",i="bg-yellow-500"):(t="大きい可能性大",i="bg-red-500")),{diffs:r,results:n,overallText:t,overallColorClass:i,buyConverted:a}},[o,s,h,d]),L=()=>{u({kitake:70,yukitake:83,katahaba:44,mihaba:52}),f({kitake:72,katahaba:46,sodetake:61,kyoui:110,jp_yukitake:84,jp_mihaba:55}),g("overseas"),v("just")},z=(a,r,l,b)=>{if(!a.kitake||!a.yukitake||!a.katahaba||!a.mihaba)return null;const n=2.5,t=150,i=30,w=a.yukitake-a.katahaba/2,k=a.mihaba*n,j=a.kitake*n,_=a.katahaba*n,C=w*n,$=t-_/2,S=t+_/2,x=i,M=`M ${$} ${x} L ${$-C} ${x+20} L ${$-C} ${x+60} L ${$} ${x+40} Z`,F=`M ${S} ${x} L ${S+C} ${x+20} L ${S+C} ${x+60} L ${S} ${x+40} Z`;return e.jsxs("g",{fill:r,stroke:l,strokeWidth:"1",style:b?{mixBlendMode:"multiply"}:{},children:[e.jsx("rect",{x:t-k/2,y:i,width:k,height:j}),e.jsx("path",{d:M}),e.jsx("path",{d:F}),e.jsx("circle",{cx:t,cy:i,r:20,fill:b?"#fef2f2":"#f0f9ff"})]})};return e.jsxs("div",{className:"container mx-auto max-w-7xl p-4 md:p-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"衣類サイズ比較ツール (ビジュアル版)"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"サイズを入力して、見た目でフィット感を確認しましょう。"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-blue-600",children:"1. お手持ちの服"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{label:"着丈",value:o.kitake,onChange:a=>N("kitake",a),color:"blue"}),e.jsx(c,{label:"裄丈",value:o.yukitake,onChange:a=>N("yukitake",a),color:"blue"}),e.jsx(c,{label:"肩幅",value:o.katahaba,onChange:a=>N("katahaba",a),color:"blue"}),e.jsx(c,{label:"身幅",value:o.mihaba,onChange:a=>N("mihaba",a),color:"blue"}),e.jsxs("div",{className:"pt-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"この服のフィット感は？"}),e.jsx("div",{className:"flex justify-around bg-gray-100 p-1 rounded-lg",children:[{val:"small",label:"小さい"},{val:"just",label:"ちょうどいい"},{val:"large",label:"大きい"}].map(a=>e.jsxs("label",{className:"w-full text-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"fit-preference",value:a.val,checked:d===a.val,onChange:()=>v(a.val),className:"sr-only peer"}),e.jsx("span",{className:"block py-2 px-3 rounded-md peer-checked:bg-blue-500 peer-checked:text-white transition-colors",children:a.label})]},a.val))})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-red-600",children:"2. 購入したい服"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"サイトのサイズ表記は？"}),e.jsxs("div",{className:"flex justify-around bg-gray-100 p-1 rounded-lg",children:[e.jsxs("label",{className:"w-full text-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"size-type",value:"overseas",checked:h==="overseas",onChange:()=>g("overseas"),className:"sr-only peer"}),e.jsx("span",{className:"block py-2 px-3 rounded-md peer-checked:bg-red-500 peer-checked:text-white transition-colors",children:"海外表記"})]}),e.jsxs("label",{className:"w-full text-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"size-type",value:"japan",checked:h==="japan",onChange:()=>g("japan"),className:"sr-only peer"}),e.jsx("span",{className:"block py-2 px-3 rounded-md peer-checked:bg-red-500 peer-checked:text-white transition-colors",children:"日本表記"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{label:"着丈",value:s.kitake,onChange:a=>m("kitake",a),color:"red"}),e.jsx(c,{label:"肩幅",value:s.katahaba,onChange:a=>m("katahaba",a),color:"red"}),h==="overseas"?e.jsxs(e.Fragment,{children:[e.jsx(c,{label:"袖丈 (Sleeve)",value:s.sodetake,onChange:a=>m("sodetake",a),color:"red"}),e.jsx(c,{label:"胸囲 (Chest)",value:s.kyoui,onChange:a=>m("kyoui",a),color:"red"})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{label:"裄丈",value:s.jp_yukitake,onChange:a=>m("jp_yukitake",a),color:"red"}),e.jsx(c,{label:"身幅",value:s.jp_mihaba,onChange:a=>m("jp_mihaba",a),color:"red"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("div",{className:"w-full aspect-square relative flex items-center justify-center bg-gray-50 rounded-lg overflow-hidden",children:e.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full h-full",children:[z(o,"#bae6fd","#0ea5e9",!1),z(y.buyConverted,"#fda4af","#f43f5e",!0),(!o.kitake||!y.buyConverted.kitake)&&e.jsx("text",{x:"150",y:"150",textAnchor:"middle",fontSize:"12",fill:"#9ca3af",children:"サイズを入力して比較を開始"})]})}),e.jsxs("div",{className:"bg-gray-800 text-white p-6 rounded-xl shadow-lg border border-gray-700 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-yellow-400",children:"比較結果"}),e.jsx("div",{className:"space-y-3 text-lg",children:Object.entries(y.results).map(([a,r])=>{const l={kitake:"着丈",yukitake:"裄丈",katahaba:"肩幅",mihaba:"身幅"},b=r.diff>0?`+${r.diff.toFixed(1)}`:r.diff.toFixed(1);let n="",t="text-gray-300";return r.status==="larger"?(n="大きめ",t="text-green-400"):r.status==="smaller"?(n="小さめ",t="text-red-400"):(n="ほぼ同じ",t="text-yellow-400"),e.jsxs("p",{className:"flex justify-between items-baseline",children:[e.jsx("span",{children:l[a]}),e.jsxs("span",{className:"font-mono text-right",children:[b,"cm ",e.jsxs("span",{className:`${t} font-bold ml-2`,children:["(",n,")"]})]})]},a)})}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("h3",{className:"font-bold text-xl mb-2 text-yellow-400",children:"総合評価"}),e.jsx("div",{className:`p-4 rounded-lg text-2xl font-bold ${y.overallColorClass} text-white`,children:y.overallText})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:L,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg transition-colors",children:"リセット"})})]})]})]})},c=({label:o,value:u,onChange:s,color:f})=>{const h=f==="blue"?"bg-blue-50":"bg-red-50",g=f==="blue"?"focus:ring-blue-500 focus:border-blue-500":"focus:ring-red-500 focus:border-red-500",d="hover:bg-gray-300";return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:o}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("input",{type:"number",className:`w-full p-3 pr-12 border-gray-300 rounded-md ${h} ${g}`,value:u,onChange:v=>s(parseFloat(v.target.value)||0)}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex flex-col items-stretch justify-center p-1.5 space-y-px",children:[e.jsx("button",{type:"button",onClick:()=>s(u+1),className:`flex-1 px-2 bg-gray-200 ${d} rounded-t-md text-xs font-bold flex items-center justify-center`,children:"▲"}),e.jsx("button",{type:"button",onClick:()=>s(u-1),className:`flex-1 px-2 bg-gray-200 ${d} rounded-b-md text-xs font-bold flex items-center justify-center`,children:"▼"})]})]})]})};export{P as default};
