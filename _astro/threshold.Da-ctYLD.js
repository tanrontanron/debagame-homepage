function F(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Rn(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function bn(n){let e,t,r;n.length!==2?(e=F,t=(a,s)=>F(n(a),s),r=(a,s)=>n(a)-s):(e=n===F||n===Rn?n:Sn,t=n,r=n);function i(a,s,l=0,h=a.length){if(l<h){if(e(s,s)!==0)return h;do{const u=l+h>>>1;t(a[u],s)<0?l=u+1:h=u}while(l<h)}return l}function f(a,s,l=0,h=a.length){if(l<h){if(e(s,s)!==0)return h;do{const u=l+h>>>1;t(a[u],s)<=0?l=u+1:h=u}while(l<h)}return l}function o(a,s,l=0,h=a.length){const u=i(a,s,l,h-1);return u>l&&r(a[u-1],s)>-r(a[u],s)?u-1:u}return{left:i,center:o,right:f}}function Sn(){return 0}function Hn(n){return n===null?NaN:+n}function*he(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const En=bn(F),Pn=En.right;bn(Hn).center;function An(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function le(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}function K(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function pn(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function z(){}var A=.7,T=1/A,R="\\s*([+-]?\\d+)\\s*",j="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jn=/^#([0-9a-f]{3,8})$/,zn=new RegExp(`^rgb\\(${R},${R},${R}\\)$`),qn=new RegExp(`^rgb\\(${p},${p},${p}\\)$`),In=new RegExp(`^rgba\\(${R},${R},${R},${j}\\)$`),Cn=new RegExp(`^rgba\\(${p},${p},${p},${j}\\)$`),_n=new RegExp(`^hsl\\(${j},${p},${p}\\)$`),Ln=new RegExp(`^hsla\\(${j},${p},${p},${j}\\)$`),rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K(z,Q,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:fn,formatHex:fn,formatHex8:On,formatHsl:Fn,formatRgb:an,toString:an});function fn(){return this.rgb().formatHex()}function On(){return this.rgb().formatHex8()}function Fn(){return yn(this).formatHsl()}function an(){return this.rgb().formatRgb()}function Q(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=jn.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?on(e):t===3?new d(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zn.exec(n))?new d(e[1],e[2],e[3],1):(e=qn.exec(n))?new d(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=In.exec(n))?_(e[1],e[2],e[3],e[4]):(e=Cn.exec(n))?_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_n.exec(n))?cn(e[1],e[2]/100,e[3]/100,1):(e=Ln.exec(n))?cn(e[1],e[2]/100,e[3]/100,e[4]):rn.hasOwnProperty(n)?on(rn[n]):n==="transparent"?new d(NaN,NaN,NaN,0):null}function on(n){return new d(n>>16&255,n>>8&255,n&255,1)}function _(n,e,t,r){return r<=0&&(n=e=t=NaN),new d(n,e,t,r)}function Tn(n){return n instanceof z||(n=Q(n)),n?(n=n.rgb(),new d(n.r,n.g,n.b,n.opacity)):new d}function B(n,e,t,r){return arguments.length===1?Tn(n):new d(n,e,t,r??1)}function d(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}K(d,B,pn(z,{brighter(n){return n=n==null?T:Math.pow(T,n),new d(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?A:Math.pow(A,n),new d(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new d(M(this.r),M(this.g),M(this.b),G(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sn,formatHex:sn,formatHex8:Bn,formatRgb:un,toString:un}));function sn(){return`#${N(this.r)}${N(this.g)}${N(this.b)}`}function Bn(){return`#${N(this.r)}${N(this.g)}${N(this.b)}${N((isNaN(this.opacity)?1:this.opacity)*255)}`}function un(){const n=G(this.opacity);return`${n===1?"rgb(":"rgba("}${M(this.r)}, ${M(this.g)}, ${M(this.b)}${n===1?")":`, ${n})`}`}function G(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function M(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function N(n){return n=M(n),(n<16?"0":"")+n.toString(16)}function cn(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new m(n,e,t,r)}function yn(n){if(n instanceof m)return new m(n.h,n.s,n.l,n.opacity);if(n instanceof z||(n=Q(n)),!n)return new m;if(n instanceof m)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),f=Math.max(e,t,r),o=NaN,a=f-i,s=(f+i)/2;return a?(e===f?o=(t-r)/a+(t<r)*6:t===f?o=(r-e)/a+2:o=(e-t)/a+4,a/=s<.5?f+i:2-f-i,o*=60):a=s>0&&s<1?0:o,new m(o,a,s,n.opacity)}function Gn(n,e,t,r){return arguments.length===1?yn(n):new m(n,e,t,r??1)}function m(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}K(m,Gn,pn(z,{brighter(n){return n=n==null?T:Math.pow(T,n),new m(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?A:Math.pow(A,n),new m(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new d(U(n>=240?n-240:n+120,i,r),U(n,i,r),U(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new m(hn(this.h),L(this.s),L(this.l),G(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=G(this.opacity);return`${n===1?"hsl(":"hsla("}${hn(this.h)}, ${L(this.s)*100}%, ${L(this.l)*100}%${n===1?")":`, ${n})`}`}}));function hn(n){return n=(n||0)%360,n<0?n+360:n}function L(n){return Math.max(0,Math.min(1,n||0))}function U(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function Dn(n,e,t,r,i){var f=n*n,o=f*n;return((1-3*n+3*f-o)*e+(4-6*f+3*o)*t+(1+3*n+3*f-3*o)*r+o*i)/6}function Xn(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),i=n[r],f=n[r+1],o=r>0?n[r-1]:2*i-f,a=r<e-1?n[r+2]:2*f-i;return Dn((t-r/e)*e,o,i,f,a)}}const wn=n=>()=>n;function Un(n,e){return function(t){return n+t*e}}function Yn(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function Zn(n){return(n=+n)==1?$n:function(e,t){return t-e?Yn(e,t,n):wn(isNaN(e)?t:e)}}function $n(n,e){var t=e-n;return t?Un(n,t):wn(isNaN(n)?e:n)}const de=(function n(e){var t=Zn(e);function r(i,f){var o=t((i=B(i)).r,(f=B(f)).r),a=t(i.g,f.g),s=t(i.b,f.b),l=$n(i.opacity,f.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=s(h),i.opacity=l(h),i+""}}return r.gamma=n,r})(1);function Jn(n){return function(e){var t=e.length,r=new Array(t),i=new Array(t),f=new Array(t),o,a;for(o=0;o<t;++o)a=B(e[o]),r[o]=a.r||0,i[o]=a.g||0,f[o]=a.b||0;return r=n(r),i=n(i),f=n(f),a.opacity=1,function(s){return a.r=r(s),a.g=i(s),a.b=f(s),a+""}}}var ge=Jn(Xn);function Kn(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Z=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y=new RegExp(Z.source,"g");function Qn(n){return function(){return n}}function Vn(n){return function(e){return n(e)+""}}function xe(n,e){var t=Z.lastIndex=Y.lastIndex=0,r,i,f,o=-1,a=[],s=[];for(n=n+"",e=e+"";(r=Z.exec(n))&&(i=Y.exec(e));)(f=i.index)>t&&(f=e.slice(t,f),a[o]?a[o]+=f:a[++o]=f),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,s.push({i:o,x:Kn(r,i)})),t=Y.lastIndex;return t<e.length&&(f=e.slice(t),a[o]?a[o]+=f:a[++o]=f),a.length<2?s[0]?Vn(s[0].x):Qn(e):(e=s.length,function(l){for(var h=0,u;h<e;++h)a[(u=s[h]).i]=u.x(l);return a.join("")})}function Wn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function D(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function ne(n){return n=D(Math.abs(n)),n?n[1]:NaN}function ee(n,e){return function(t,r){for(var i=t.length,f=[],o=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),f.push(t.substring(i-=a,i+a)),!((s+=a+1)>r));)a=n[o=(o+1)%n.length];return f.reverse().join(e)}}function te(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function J(n){if(!(e=re.exec(n)))throw new Error("invalid format: "+n);var e;return new V({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}J.prototype=V.prototype;function V(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}V.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ie(n){n:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Nn;function fe(n,e){var t=D(n,e);if(!t)return n+"";var r=t[0],i=t[1],f=i-(Nn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return f===o?r:f>o?r+new Array(f-o+1).join("0"):f>0?r.slice(0,f)+"."+r.slice(f):"0."+new Array(1-f).join("0")+D(n,Math.max(0,e+f-1))[0]}function ln(n,e){var t=D(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dn={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Wn,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>ln(n*100,e),r:ln,s:fe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function gn(n){return n}var xn=Array.prototype.map,mn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ae(n){var e=n.grouping===void 0||n.thousands===void 0?gn:ee(xn.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",f=n.numerals===void 0?gn:te(xn.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"−":n.minus+"",s=n.nan===void 0?"NaN":n.nan+"";function l(u){u=J(u);var S=u.fill,H=u.align,b=u.sign,E=u.symbol,k=u.zero,P=u.width,X=u.comma,w=u.precision,W=u.trim,g=u.type;g==="n"?(X=!0,g="g"):dn[g]||(w===void 0&&(w=12),W=!0,g="g"),(k||S==="0"&&H==="=")&&(k=!0,S="0",H="=");var Mn=E==="$"?t:E==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",kn=E==="$"?r:/[%p]/.test(g)?o:"",nn=dn[g],vn=/[defgprs%]/.test(g);w=w===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function en(c){var $=Mn,x=kn,v,tn,q;if(g==="c")x=nn(c)+x,c="";else{c=+c;var I=c<0||1/c<0;if(c=isNaN(c)?s:nn(Math.abs(c),w),W&&(c=ie(c)),I&&+c==0&&b!=="+"&&(I=!1),$=(I?b==="("?b:a:b==="-"||b==="("?"":b)+$,x=(g==="s"?mn[8+Nn/3]:"")+x+(I&&b==="("?")":""),vn){for(v=-1,tn=c.length;++v<tn;)if(q=c.charCodeAt(v),48>q||q>57){x=(q===46?i+c.slice(v+1):c.slice(v))+x,c=c.slice(0,v);break}}}X&&!k&&(c=e(c,1/0));var C=$.length+c.length+x.length,y=C<P?new Array(P-C+1).join(S):"";switch(X&&k&&(c=e(y+c,y.length?P-x.length:1/0),y=""),H){case"<":c=$+c+x+y;break;case"=":c=$+y+c+x;break;case"^":c=y.slice(0,C=y.length>>1)+$+c+x+y.slice(C);break;default:c=y+$+c+x;break}return f(c)}return en.toString=function(){return u+""},en}function h(u,S){var H=l((u=J(u),u.type="f",u)),b=Math.max(-8,Math.min(8,Math.floor(ne(S)/3)))*3,E=Math.pow(10,-b),k=mn[8+b/3];return function(P){return H(E*P)+k}}return{format:l,formatPrefix:h}}var O,oe,se;ue({thousands:",",grouping:[3],currency:["$",""]});function ue(n){return O=ae(n),oe=O.format,se=O.formatPrefix,O}function ce(){var n=[.5],e=[0,1],t,r=1;function i(f){return f!=null&&f<=f?e[Pn(n,f,0,r)]:t}return i.domain=function(f){return arguments.length?(n=Array.from(f),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(f){return arguments.length?(e=Array.from(f),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(f){var o=e.indexOf(f);return[n[o-1],n[o]]},i.unknown=function(f){return arguments.length?(t=f,i):t},i.copy=function(){return ce().domain(n).range(e).unknown(t)},An.apply(i,arguments)}export{F as a,Hn as b,wn as c,Kn as d,de as e,xe as f,Q as g,Pn as h,An as i,ne as j,J as k,se as l,oe as m,he as n,bn as o,le as p,ge as r,ce as t};
