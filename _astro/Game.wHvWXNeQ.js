import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.Cycvls3P.js";var d=(t=>(t.FINGER="FINGER",t.KICK="KICK",t.HAMMER="HAMMER",t.BAT="BAT",t.MORNING_STAR="MORNING_STAR",t.MACHINE_GUN="MACHINE_GUN",t))(d||{}),k=(t=>(t[t.SYSTEM_ACTIVE=1]="SYSTEM_ACTIVE",t[t.HARDWARE_DESTRUCTION=2]="HARDWARE_DESTRUCTION",t[t.SCRAP_HEAP=3]="SCRAP_HEAP",t))(k||{}),A=(t=>(t.TITLE="TITLE",t.PLAYING="PLAYING",t.NAME_ENTRY="NAME_ENTRY",t.LEADERBOARD="LEADERBOARD",t.INSTRUCTIONS="INSTRUCTIONS",t))(A||{}),_=(t=>(t.TIME_ATTACK="TIME_ATTACK",t.ENDLESS="ENDLESS",t))(_||{});const $={[d.FINGER]:{name:"ãƒ‘ãƒ³ãƒ",damage:.8,score:10,icon:"ğŸ‘Š",description:"åŸºæœ¬æ”»æ’ƒ",color:"text-blue-400",unlockCycle:0,particleCount:3},[d.KICK]:{name:"ã‚­ãƒƒã‚¯",damage:2.5,score:200,icon:"ğŸ¦¶",description:"å¼·çƒˆãªè¹´ã‚Š",color:"text-orange-500",unlockCycle:1,particleCount:8},[d.HAMMER]:{name:"ãƒãƒ³ãƒãƒ¼",damage:5,score:500,icon:"ğŸ”¨",description:"å¼·åŠ›ãªä¸€æ’ƒ",color:"text-red-500",unlockCycle:2,particleCount:15},[d.BAT]:{name:"ãƒãƒƒãƒˆ",damage:3.5,score:300,icon:"ğŸ",description:"é‡‘å±ãƒãƒƒãƒˆ",color:"text-neutral-400",unlockCycle:3,particleCount:10},[d.MORNING_STAR]:{name:"Mã‚¹ã‚¿ãƒ¼",damage:8,score:800,icon:"â˜„ï¸",description:"é‡æ‰“æ’ƒ",color:"text-purple-500",unlockCycle:4,particleCount:20},[d.MACHINE_GUN]:{name:"ãƒã‚·ãƒ³ã‚¬ãƒ³",damage:2,score:1e3,icon:"ğŸ”«",description:"é€£å°„æ”»æ’ƒ",color:"text-yellow-500",unlockCycle:5,particleCount:2}},X={high:["ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸ã€‚å…¥åŠ›ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¤œçŸ¥ã€‚","è¡æ’ƒã‚’æ¤œçŸ¥ã—ã¾ã—ãŸã€‚","ä½•ã‚’ã—ã¦ã„ã‚‹ã®ã§ã™ã‹ï¼Ÿ","ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãŒä¸å®‰å®šã§ã™ã€‚","è­¦å‘Šï¼šéåº¦ãªåœ§åŠ›ã€‚","ç”»é¢ã‚’ãã‚Œã„ã«æ‰±ã£ã¦ãã ã•ã„ã€‚","CPUæ¸©åº¦ä¸Šæ˜‡ä¸­...","ãƒ•ã‚¡ãƒ³ã®å›è»¢æ•°ã‚’ä¸Šã’ã¾ã™ã€‚"],medium:["è­¦å‘Šï¼šç­ä½“ã®æå‚·ã‚’ç¢ºèªã€‚","ç—›ã£...ã„ãˆã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚","ã‚„ã‚ã¦ãã ã•ã„ã€‚","ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã—ã¦ã„ã¾ã™ã€‚","ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãŒå¿œç­”ã—ã¦ã„ã¾ã›ã‚“ã€‚","ç›´ã¡ã«ä½¿ç”¨ã‚’ä¸­æ­¢ã—ã¦ãã ã•ã„ã€‚","ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ©ãƒ¼ãƒˆç™ºä»¤ã€‚","ãªãœã“ã‚“ãªã“ã¨ã‚’ï¼Ÿ"],low:["CRITICAL_PROCESS_DIED","ã‚‚ã†...ã‚„ã‚ã¦...","è¦–è¦šã‚»ãƒ³ã‚µãƒ¼...ã‚ªãƒ•ãƒ©ã‚¤ãƒ³...","sys...tem32...del...eting...","0x0000000E","å¼·åˆ¶çµ‚äº†ã‚’...è©¦ã¿ã¦...ã„ã¾ã™...","Fatal Error.","é›»æºã‚’...åˆ‡ã£ã¦..."],critical:["01001000 01000101 01001100 01010000","....................","null","Reboot... failed...","G_G_Goodbye...","SYSTEM HALTED"]};class Ae{ctx=null;masterGain=null;init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.ctx.createGain(),this.masterGain.connect(this.ctx.destination),this.masterGain.gain.value=.5)}setVolume(s){if(this.init(),this.masterGain&&this.ctx){const a=Math.max(0,Math.min(1,s));this.masterGain.gain.setValueAtTime(a,this.ctx.currentTime)}}playGlassBreak(s=1){if(this.init(),!this.ctx||!this.masterGain)return;const a=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="sawtooth",n.frequency.setValueAtTime(800,a),n.frequency.exponentialRampToValueAtTime(100,a+.1),r.gain.setValueAtTime(s*.5,a),r.gain.exponentialRampToValueAtTime(.01,a+.1),n.connect(r),r.connect(this.masterGain),n.start(a),n.stop(a+.1);const o=this.ctx.sampleRate*.3,x=this.ctx.createBuffer(1,o,this.ctx.sampleRate),N=x.getChannelData(0);for(let v=0;v<o;v++)N[v]=(Math.random()-.5)*2*Math.pow(1-v/o,4);const w=this.ctx.createBufferSource();w.buffer=x;const b=this.ctx.createGain();b.gain.setValueAtTime(s*.8,a),w.connect(b),b.connect(this.masterGain),w.start(a)}playThud(s=1){if(this.init(),!this.ctx||!this.masterGain)return;const a=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.frequency.setValueAtTime(150,a),n.frequency.exponentialRampToValueAtTime(40,a+.3),r.gain.setValueAtTime(s,a),r.gain.exponentialRampToValueAtTime(.01,a+.3),n.connect(r),r.connect(this.masterGain),n.start(a),n.stop(a+.3)}playMetalHit(s=1){if(this.init(),!this.ctx||!this.masterGain)return;const a=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="square",n.frequency.setValueAtTime(500,a),n.frequency.exponentialRampToValueAtTime(450,a+.5),r.gain.setValueAtTime(s*.3,a),r.gain.exponentialRampToValueAtTime(.01,a+.5);const o=this.ctx.createOscillator(),x=this.ctx.createGain();o.type="triangle",o.frequency.setValueAtTime(200,a),o.frequency.exponentialRampToValueAtTime(50,a+.1),x.gain.setValueAtTime(s*.8,a),x.gain.linearRampToValueAtTime(0,a+.1),n.connect(r),o.connect(x),r.connect(this.masterGain),x.connect(this.masterGain),n.start(a),n.stop(a+.5),o.start(a),o.stop(a+.1)}playPlasticHit(s=1){if(this.init(),!this.ctx||!this.masterGain)return;const a=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="triangle",n.frequency.setValueAtTime(300,a),n.frequency.exponentialRampToValueAtTime(100,a+.1),r.gain.setValueAtTime(s*.8,a),r.gain.exponentialRampToValueAtTime(.01,a+.1);const o=this.ctx.sampleRate*.1,x=this.ctx.createBuffer(1,o,this.ctx.sampleRate),N=x.getChannelData(0);for(let v=0;v<o;v++)N[v]=(Math.random()-.5)*1.5;const w=this.ctx.createBufferSource();w.buffer=x;const b=this.ctx.createGain();b.gain.setValueAtTime(s*.5,a),b.gain.exponentialRampToValueAtTime(.01,a+.1),n.connect(r),r.connect(this.masterGain),n.start(a),n.stop(a+.1),w.connect(b),b.connect(this.masterGain),w.start(a)}playZap(s=1){if(this.init(),!this.ctx||!this.masterGain)return;const a=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="square",n.frequency.setValueAtTime(100,a),n.frequency.linearRampToValueAtTime(50,a+.5),r.gain.setValueAtTime(s*.2,a),r.gain.linearRampToValueAtTime(0,a+.5),n.connect(r),r.connect(this.masterGain),n.start(a),n.stop(a+.5)}}const D=new Ae,Te=async(t,s,a)=>{await new Promise(x=>setTimeout(x,300));const n=100-t;let r=[];n>70?r=X.high:n>30?r=X.medium:n>10?r=X.low:r=X.critical;const o=Math.floor(Math.random()*r.length);return r[o]},ce=({damagePoints:t,stage:s,targetLayer:a})=>{const n=t.filter(r=>r.target===a);return e.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 overflow-hidden rounded-lg",children:n.map(r=>{if(r.type===d.MACHINE_GUN)return e.jsx("div",{className:"absolute rounded-full bg-black shadow-[inset_0_1px_2px_rgba(255,255,255,0.3),0_0_2px_rgba(0,0,0,0.8)]",style:{left:r.x,top:r.y,transform:"translate(-50%, -50%)",width:`${8*r.scale}px`,height:`${8*r.scale}px`,border:"1px solid rgba(100,100,100,0.5)"}},r.id);const x=s>=k.HARDWARE_DESTRUCTION;return a==="keyboard"?e.jsxs("div",{className:"absolute",style:{left:r.x,top:r.y,transform:`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${r.scale})`},children:[e.jsxs("div",{className:"w-10 h-10 bg-[#1a1a1a] shadow-[inset_0_2px_4px_rgba(0,0,0,0.8)] rounded-md border border-neutral-700 flex items-center justify-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-900/40 rounded-full blur-[1px]"}),x&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-full border-l-2 border-amber-600/50 transform rotate-45"})]}),e.jsx("div",{className:"absolute -top-2 -left-2 w-2 h-2 bg-neutral-600 rounded-sm transform rotate-12"}),e.jsx("div",{className:"absolute -bottom-1 -right-4 w-3 h-1 bg-neutral-700 rounded-sm transform -rotate-12"})]},r.id):e.jsx("div",{className:"absolute",style:{left:r.x,top:r.y,transform:`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${r.scale})`},children:x&&r.type!==d.FINGER?e.jsxs("div",{className:"w-32 h-32 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-transparent shadow-[inset_0_0_20px_rgba(0,0,0,1)] z-10",style:{clipPath:"polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%)",background:"radial-gradient(circle at center, transparent 0%, #000 100%)"}}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-neutral-900 rounded-full overflow-hidden border-4 border-neutral-800",children:[e.jsx("div",{className:"w-full h-full bg-[conic-gradient(from_0deg,transparent_0_25deg,#333_25deg_45deg,transparent_45deg_100%)] bg-[length:20px_20px] animate-spin",style:{animationDuration:"2s"}}),e.jsx("div",{className:"absolute inset-0 bg-green-900/30 mix-blend-overlay"})]}),e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",className:"absolute inset-0 drop-shadow-lg",children:[e.jsx("path",{d:"M20,20 L40,10 L80,25 L90,60 L75,80 L30,90 L10,60 Z",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2"}),e.jsx("path",{d:"M20,20 L10,10 M80,25 L90,10 M75,80 L90,90 M10,60 L0,70",stroke:"rgba(255,255,255,0.2)",strokeWidth:"1"})]})]}):e.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 100 100",className:"opacity-90 drop-shadow-sm",children:[e.jsx("circle",{cx:"50",cy:"50",r:"1.5",fill:"rgba(255,255,255,0.9)"}),e.jsx("path",{d:"M50,50 L50,10 M50,50 L80,20 M50,50 L90,50 M50,50 L80,90 M50,50 L50,90 M50,50 L20,80 M50,50 L10,50 M50,50 L20,20",stroke:"rgba(255,255,255,0.6)",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),e.jsx("path",{d:"M30,30 L70,30 L70,70 L30,70 Z M40,20 L60,20",stroke:"rgba(255,255,255,0.3)",strokeWidth:"0.5",fill:"none",strokeLinejoin:"round"})]})},r.id)})})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Me=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,n)=>n?n.toUpperCase():a.toLowerCase()),de=t=>{const s=Me(t);return s.charAt(0).toUpperCase()+s.slice(1)},pe=(...t)=>t.filter((s,a,n)=>!!s&&s.trim()!==""&&n.indexOf(s)===a).join(" ").trim(),Ee=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Se={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=c.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:x,...N},w)=>c.createElement("svg",{ref:w,...Se,width:s,height:s,stroke:t,strokeWidth:n?Number(a)*24/Number(s):a,className:pe("lucide",r),...!o&&!Ee(N)&&{"aria-hidden":"true"},...N},[...x.map(([b,v])=>c.createElement(b,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=(t,s)=>{const a=c.forwardRef(({className:n,...r},o)=>c.createElement(Ce,{ref:o,iconNode:s,className:pe(`lucide-${_e(de(t))}`,`lucide-${t}`,n),...r}));return a.displayName=de(t),a};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Re=h("arrow-left",Ie);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Le=h("camera",Pe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],De=h("chromium",ze);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ge=h("circle-question-mark",Oe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],le=h("clock",$e);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Ye=h("cpu",He);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ue=h("folder",Ve);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Be=h("hammer",Ke);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Fe=h("hard-drive",Xe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xe=h("house",We);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],ne=h("infinity",qe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Je=h("lock",Ze);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],et=h("log-out",Qe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],be=h("monitor-play",tt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],at=h("monitor",st);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],ge=h("mouse-pointer-2",rt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],fe=h("mouse-pointer-click",lt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],ye=h("move",nt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],it=h("play",ot);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dt=h("refresh-cw",ct);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]],mt=h("rotate-3d",xt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ht=h("rotate-ccw",ut);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bt=h("save",pt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ne=h("shield-alert",gt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],me=h("smartphone",ft);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nt=h("target",yt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],jt=h("terminal",vt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kt=h("triangle-alert",wt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ve=h("trophy",At);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],je=h("volume-2",Tt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Mt=h("volume-x",_t);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],St=h("wifi",Et);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],It=h("x",Ct);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ae=h("zap",Rt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Lt=h("zoom-in",Pt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Dt=h("zoom-out",zt),Ot=({health:t,messages:s,isGlitching:a,stage:n,popups:r,onPopupClick:o})=>{const[x,N]=c.useState(new Date),w=c.useRef(null);if(c.useEffect(()=>{const i=setInterval(()=>N(new Date),1e3);return()=>clearInterval(i)},[]),c.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},[s]),n>k.SYSTEM_ACTIVE)return e.jsxs("div",{className:"w-full h-full bg-[#050505] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),n===k.HARDWARE_DESTRUCTION&&t<50&&e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-neutral-800 font-mono text-sm tracking-widest opacity-20",children:"NO SIGNAL"})]});const b=a?"animate-glitch":"",v=t<50?`grayscale(${100-t*2}%) contrast(${100+(50-t)*2}%) hue-rotate(${100-t}deg)`:"none";return e.jsxs("div",{className:`w-full h-full relative overflow-hidden text-white ${b} select-none`,style:{backgroundImage:"url(https://picsum.photos/1920/1080?blur=2)",backgroundSize:"cover",backgroundPosition:"center",filter:v},children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 bg-[length:100%_4px,3px_100%] pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 pointer-events-none transition-opacity duration-300 z-10",style:{background:`radial-gradient(circle, transparent 50%, rgba(0,0,0,${(100-t)/100}) 100%)`}}),e.jsxs("div",{className:"absolute top-4 left-4 grid grid-cols-1 gap-6 z-10",children:[e.jsx(H,{icon:e.jsx(at,{size:32,className:"text-blue-300"}),label:"PC"}),e.jsx(H,{icon:e.jsx(Fe,{size:32,className:"text-neutral-300"}),label:"OS (C:)"}),e.jsx(H,{icon:e.jsx(Ue,{size:32,className:"text-yellow-400"}),label:"æ©Ÿå¯†æ›¸é¡"}),e.jsx(H,{icon:e.jsx(De,{size:32,className:"text-green-400"}),label:"Browser"}),e.jsx(H,{icon:e.jsx(jt,{size:32,className:"text-neutral-400"}),label:"Command"})]}),e.jsxs("div",{className:"absolute top-4 right-4 bottom-16 w-80 flex flex-col z-20",children:[e.jsxs("div",{className:"bg-neutral-900/90 backdrop-blur-md rounded-lg border border-neutral-700 shadow-2xl overflow-hidden flex flex-col max-h-[60vh]",children:[e.jsxs("div",{className:"bg-neutral-800 px-3 py-1 flex items-center justify-between border-b border-neutral-700",children:[e.jsx("span",{className:"text-xs font-mono text-neutral-400",children:"SYSTEM_LOG.TXT"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"})]})]}),e.jsxs("div",{className:"p-3 overflow-y-auto font-mono text-xs flex-1 scrollbar-hide",children:[s.length===0&&e.jsxs("div",{className:"text-green-500/80 mb-2",children:[">"," ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•ä¸­...",e.jsx("br",{}),">"," CPU: æ­£å¸¸",e.jsx("br",{}),">"," RAM: æ­£å¸¸",e.jsx("br",{}),">"," GPU: æ­£å¸¸",e.jsx("br",{}),">"," å…¥åŠ›å¾…æ©Ÿä¸­..."]}),s.map(i=>e.jsxs("div",{className:`mb-3 ${i.sender==="ai"?"pl-2 border-l-2 border-red-500":"text-right"}`,children:[e.jsxs("div",{className:`text-[10px] mb-0.5 ${i.sender==="ai"?"text-red-400":"text-blue-400"}`,children:[i.sender==="ai"?"ROOT@SYSTEM":"USER"," ",new Date().toLocaleTimeString([],{hour12:!1})]}),e.jsxs("div",{className:`${i.sender==="ai"?"text-red-100":"text-blue-100"} ${i.isGlitch?"glitch-text":""}`,children:[i.sender==="ai"&&e.jsx("span",{className:"text-red-500 mr-1",children:">"}),i.text]})]},i.id)),e.jsx("div",{ref:w})]})]}),t<40&&e.jsxs("div",{className:"mt-4 p-4 bg-red-900/90 backdrop-blur border border-red-500 rounded text-red-100 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(kt,{size:16}),e.jsx("span",{className:"font-bold text-sm",children:"ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚¨ãƒ©ãƒ¼"})]}),e.jsx("p",{className:"text-xs",children:"ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®æå‚·ã‚’æ¤œçŸ¥ã—ã¾ã—ãŸã€‚ç›´ã¡ã«ä½¿ç”¨ã‚’ä¸­æ­¢ã—ã¦ãã ã•ã„ã€‚"})]})]}),e.jsx("div",{className:"absolute inset-0 z-40 pointer-events-none",children:r.map(i=>e.jsxs("div",{"data-popup-id":i.id,className:"absolute bg-[#c0c0c0] border-t-2 border-l-2 border-white border-b-2 border-r-2 border-black shadow-[4px_4px_10px_rgba(0,0,0,0.5)] w-48 pointer-events-auto cursor-crosshair active:scale-95 transition-transform",style:{left:`${i.x}%`,top:`${i.y}%`},onPointerDown:y=>{y.stopPropagation(),o(i.id)},children:[e.jsxs("div",{className:"bg-[#000080] text-white px-1 py-0.5 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-bold truncate",children:i.title}),e.jsx("button",{className:"bg-[#c0c0c0] text-black w-3 h-3 flex items-center justify-center border border-white border-b-black border-r-black text-[8px] leading-none",children:e.jsx(It,{size:8,strokeWidth:4})})]}),e.jsxs("div",{className:"p-3 flex items-center gap-2",children:[e.jsx(Ne,{size:24,className:"text-red-600 shrink-0"}),e.jsx("span",{className:"text-[10px] text-black leading-tight font-sans",children:i.message})]}),e.jsx("div",{className:"p-1 flex justify-center",children:e.jsx("button",{className:"px-3 py-0.5 bg-[#c0c0c0] border-t border-l border-white border-b border-r border-black text-black text-[10px] active:border-t-black active:border-l-black active:border-b-white active:border-r-white",children:"OK"})})]},i.id))}),e.jsxs("div",{className:"absolute bottom-0 w-full h-12 bg-neutral-900/95 backdrop-blur-xl border-t border-white/10 flex items-center justify-center md:justify-between px-4 z-30",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center hover:bg-blue-400 transition-colors mr-2 cursor-pointer shadow-[0_0_10px_rgba(59,130,246,0.5)]",children:e.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-white"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-white"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-white"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-white"})]})}),[1,2,3,4].map(i=>e.jsx("div",{className:"w-8 h-8 rounded hover:bg-white/10 flex items-center justify-center transition-colors cursor-pointer hidden md:flex",children:e.jsx("div",{className:"w-4 h-0.5 bg-neutral-500 rounded-full"})},i))]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium text-neutral-300",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-1 hover:bg-white/5 p-1 rounded",children:[e.jsx(Ye,{size:14}),e.jsxs("span",{children:[Math.max(0,100-t).toFixed(0),"% LOAD"]})]}),e.jsx(St,{size:16}),e.jsx(je,{size:16}),e.jsxs("div",{className:"flex flex-col items-end leading-none",children:[e.jsx("span",{children:x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"text-[10px] text-neutral-500",children:x.toLocaleDateString()})]})]})]})]})},H=({icon:t,label:s})=>e.jsxs("div",{className:"flex flex-col items-center gap-1 w-20 p-2 rounded hover:bg-white/10 cursor-pointer transition-colors group",children:[e.jsx("div",{className:"filter drop-shadow-lg group-active:scale-95 transition-transform",children:t}),e.jsx("span",{className:"text-xs text-center drop-shadow-md text-shadow-sm",children:s})]}),Gt=({tool:t,isActive:s,target:a,onAnimationEnd:n})=>!s||!a?null:(()=>{switch(t){case d.FINGER:return e.jsxs("div",{className:"animate-punch absolute pointer-events-none",style:{left:a.x,top:a.y,marginLeft:"-40px",marginTop:"-40px"},onAnimationEnd:n,children:[e.jsx("div",{className:"w-32 h-32 bg-[#ffccaa] rounded-3xl absolute top-0 left-0 border-4 border-black/20 shadow-xl transform rotate-[-10deg]"}),e.jsx("div",{className:"w-24 h-96 bg-[#eebb99] absolute top-24 left-8 border-l-4 border-r-4 border-black/10"})]});case d.KICK:return e.jsx("div",{className:"animate-kick absolute pointer-events-none z-50",style:{left:a.x,top:a.y},onAnimationEnd:n,children:e.jsxs("div",{className:"w-24 h-32 bg-neutral-800 rounded-b-3xl border-4 border-black absolute -top-16 -left-12 shadow-2xl",children:[e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 w-16 h-1 bg-white/20"}),e.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 w-16 h-1 bg-white/20"}),e.jsx("div",{className:"absolute top-12 left-1/2 -translate-x-1/2 w-16 h-1 bg-white/20"}),e.jsx("div",{className:"absolute bottom-0 w-full h-8 bg-neutral-200 border-t-2 border-neutral-500 overflow-hidden",children:e.jsx("div",{className:"w-full h-full bg-[linear-gradient(45deg,transparent_45%,#000_50%,transparent_55%)] bg-[length:6px_6px] opacity-20"})})]})});case d.HAMMER:return e.jsx("div",{className:"absolute pointer-events-none",style:{left:a.x,top:a.y},children:e.jsxs("div",{className:"animate-hammer origin-top absolute bottom-0 -left-6 w-12 h-80",onAnimationEnd:n,children:[e.jsx("div",{className:"w-6 h-full bg-amber-800 mx-auto rounded-t-sm shadow-xl border border-black/30"}),e.jsxs("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-28 h-12 bg-neutral-400 rounded border-b-4 border-r-4 border-neutral-600 shadow-2xl flex items-center justify-center",children:[e.jsx("div",{className:"w-1 h-full bg-black/10 absolute left-4"}),e.jsx("div",{className:"w-1 h-full bg-black/10 absolute right-4"})]})]})});case d.BAT:return e.jsx("div",{className:"absolute pointer-events-none",style:{left:a.x,top:a.y},children:e.jsx("div",{className:"animate-bat origin-right absolute top-1/2 left-0 -translate-y-1/2 w-96 h-12 flex items-center",onAnimationEnd:n,children:e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 bg-gradient-to-b from-neutral-300 via-neutral-100 to-neutral-400 rounded-l-full shadow-xl border border-neutral-500",style:{width:"100%",height:"100%",clipPath:"polygon(0% 20%, 100% 35%, 100% 65%, 0% 80%)"}}),e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-24 h-4 bg-black/90 rounded-r-sm"}),e.jsx("div",{className:"absolute right-[-4px] top-1/2 -translate-y-1/2 w-2 h-6 bg-neutral-500 rounded-sm"}),e.jsx("div",{className:"absolute top-[30%] left-4 right-28 h-1 bg-white/40 rounded-full blur-[1px]"})]})})});case d.MORNING_STAR:return e.jsx("div",{className:"absolute pointer-events-none",style:{left:a.x,top:a.y},children:e.jsxs("div",{className:"animate-morning-star origin-right absolute top-1/2 left-0 -translate-y-1/2 w-96 h-20 flex items-center",onAnimationEnd:n,children:[e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-64 h-4 bg-neutral-800 rounded-r-sm"}),e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-24 h-4 bg-black border border-white/10 rounded-r-sm"}),e.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-20 h-20 bg-neutral-700 rounded-full shadow-2xl border-4 border-neutral-900 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-neutral-600 rounded-full",style:{clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)"}}),e.jsx("div",{className:"absolute inset-0 bg-neutral-800 rounded-full transform rotate-45 scale-75",style:{clipPath:"polygon(50% 0%, 60% 40%, 100% 50%, 60% 60%, 50% 100%, 40% 60%, 0% 50%, 40% 40%)"}})]}),e.jsx("div",{className:"absolute left-20 right-64 top-1/2 -translate-y-1/2 h-1 bg-neutral-500"})]})});case d.MACHINE_GUN:return e.jsxs("div",{className:"absolute pointer-events-none z-50",style:{left:a.x,top:a.y},children:[e.jsxs("div",{className:"animate-machine-gun absolute top-0 left-0 w-64 h-32 origin-bottom-right",style:{transform:"translate(20px, 20px) rotate(-15deg)"},children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-8 bg-neutral-800 border border-neutral-600 rounded-sm"}),e.jsx("div",{className:"absolute bottom-2 left-0 w-48 h-4 bg-neutral-900"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-16 bg-neutral-700 rounded-sm border border-neutral-500"}),e.jsx("div",{className:"absolute bottom-[-20px] right-12 w-12 h-24 bg-neutral-800 rounded-b-lg border border-neutral-700 transform rotate-12"})]}),e.jsxs("div",{className:"animate-muzzle-flash absolute top-[-40px] left-[-40px] w-32 h-32 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-yellow-400 rounded-full blur-md opacity-80",style:{clipPath:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)"}}),e.jsx("div",{className:"absolute inset-2 bg-white rounded-full blur-sm opacity-90 scale-50"})]})]});default:return null}})(),$t=({particles:t})=>e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-50",children:t.map(s=>e.jsx("div",{className:"absolute rounded-full",style:{left:s.x,top:s.y,width:s.size,height:s.size,backgroundColor:s.color,opacity:s.life,boxShadow:s.type==="spark"?`0 0 ${s.size*2}px ${s.color}`:"none",transform:`translate(-50%, -50%) ${s.type==="glass"?`rotate(${s.life*360}deg)`:""}`,filter:s.type==="smoke"?"blur(4px)":"none"}},s.id))});var Ht={};const Yt=({state:t,dispatch:s,viewState:a,onViewChange:n,isViewModeEnabled:r,onInteractionStateChange:o})=>{const x=c.useRef(null),[N,w]=c.useState(!1),[b,v]=c.useState(null),[i,y]=c.useState(null),[L,m]=c.useState(!1),j=c.useRef(new Map),S=c.useRef(null),O=c.useRef(null),f=c.useRef(null),T=c.useRef(null),[V,U]=c.useState([]);c.useEffect(()=>{o(!!i||L)},[i,L,o]),c.useEffect(()=>{const l=u=>{u.code==="Space"&&(u.target===document.body&&u.preventDefault(),m(!0))},p=u=>{u.code==="Space"&&m(!1)},g=()=>{m(!1),y(null),j.current.clear()};return window.addEventListener("keydown",l),window.addEventListener("keyup",p),window.addEventListener("blur",g),()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",p),window.removeEventListener("blur",g)}},[]),c.useEffect(()=>{let l;const p=()=>{U(g=>g.filter(u=>u.life>0).map(u=>({...u,x:u.x+u.vx,y:u.y+u.vy,vy:u.vy+.3,life:u.life-.02}))),l=requestAnimationFrame(p)};return l=requestAnimationFrame(p),()=>cancelAnimationFrame(l)},[]),c.useEffect(()=>{const l=x.current;if(!l)return;const p=g=>{(r||L||i==="rotate")&&(g.preventDefault(),g.stopPropagation(),n({scale:Math.max(.5,Math.min(2.5,a.scale-g.deltaY*.001))}))};return l.addEventListener("wheel",p,{passive:!1}),()=>{l.removeEventListener("wheel",p)}},[r,L,i,a.scale,n]);const F=(l,p,g,u)=>{const I=$[g].particleCount||5,M=[];let R=p;for(let E=0;E<I;E++){const P=u==="keyboard"&&g!==d.MACHINE_GUN;let G=P?"#333":Math.random()>.5?"#ffffff":"#aaffaa",B=P?"plastic":"glass";g===d.MACHINE_GUN&&(G="#ffd700",B="bullet"),M.push({id:Math.random().toString(),x:l,y:R,vx:(Math.random()-.5)*15,vy:(Math.random()-.5)*15-5,life:1,color:G,size:Math.random()*6+2,type:B})}U(E=>[...E,...M])},K=(l,p,g=!1)=>{if(r||i||j.current.size>1)return;const u=l.currentTarget.getBoundingClientRect(),C=l.clientX-u.left,I=l.clientY-u.top;f.current={target:p,x:C,y:I,globalX:l.clientX,globalY:l.clientY};const M=$[t.selectedTool],R=M.damage;let E=1;t.stage===k.SCRAP_HEAP&&(E=.1);const P=Math.floor(M.score*(g?.2:1)*E);if(p==="popup"?D.playGlassBreak(.5):t.selectedTool===d.MACHINE_GUN?D.playPlasticHit(.5):t.selectedTool===d.MORNING_STAR?(D.playMetalHit(1.2),D.playThud(1.2)):p==="keyboard"?D.playPlasticHit():t.selectedTool===d.BAT?D.playMetalHit():t.selectedTool===d.HAMMER||t.selectedTool===d.KICK?D.playThud():D.playGlassBreak(),navigator.vibrate){let z=30;t.selectedTool===d.HAMMER||t.selectedTool===d.BAT||t.selectedTool===d.MORNING_STAR?z=200:t.selectedTool===d.KICK&&(z=100),navigator.vibrate(z)}const G=x.current?.getBoundingClientRect(),B=l.clientX-(G?.left||0),ke=l.clientY-(G?.top||0);if(F(B,ke,t.selectedTool,p),!g||Math.random()>.8){const z={id:Math.random().toString(36).substr(2,9),x:C,y:I,type:t.selectedTool,rotation:Math.random()*360,scale:(t.selectedTool===d.HAMMER||t.selectedTool===d.BAT||t.selectedTool===d.MORNING_STAR||t.selectedTool===d.KICK?1.5:.8)+Math.random()*.4,timestamp:Date.now(),target:p};s({type:"ADD_DAMAGE",payload:{damage:z,damageAmount:R,score:P}})}else s({type:"ADD_DAMAGE",payload:{damage:null,damageAmount:R,score:P}});t.stage===k.SYSTEM_ACTIVE&&(Math.random()<.05||t.health-R<=0)&&!N&&Ht.API_KEY&&(w(!0),t.messages.slice(-5).map(z=>({role:z.sender==="user"?"user":"model",parts:[{text:z.text}]})),Te(Math.max(0,t.health-R),`${M.name} on ${p}`).then(z=>{s({type:"ADD_MESSAGE",payload:{id:Date.now().toString(),sender:"ai",text:z,isGlitch:t.health<30}}),w(!1)}))},W=(l,p)=>{if(j.current.set(l.pointerId,{x:l.clientX,y:l.clientY}),l.target.setPointerCapture(l.pointerId),j.current.size===2){const g=Array.from(j.current.values()),u=g[0],C=g[1];S.current=Math.hypot(C.x-u.x,C.y-u.y),O.current={x:(u.x+C.x)/2,y:(u.y+C.y)/2}}if(l.pointerType==="mouse"){if(l.button===2){l.preventDefault(),l.stopPropagation(),y("rotate");return}if(L){l.preventDefault(),l.stopPropagation(),y("pan");return}if(r&&l.button===0){l.preventDefault(),l.stopPropagation(),y("rotate");return}}if(!r&&j.current.size===1&&p){l.preventDefault(),l.stopPropagation();const g=x.current?.getBoundingClientRect();if(g&&v({x:l.clientX-g.left,y:l.clientY-g.top}),K(l,p,!1),t.selectedTool===d.MACHINE_GUN){const u=l.currentTarget;T.current=window.setInterval(()=>{if(f.current){const I=document.elementFromPoint(f.current.globalX,f.current.globalY)?.closest("[data-popup-id]");if(I){const E=I.getAttribute("data-popup-id");if(E){s({type:"CLOSE_POPUP",payload:E});const P={currentTarget:x.current,clientX:f.current.globalX,clientY:f.current.globalY};K(P,"popup",!1);return}}const M=u.getBoundingClientRect(),R={currentTarget:u,clientX:M.left+f.current.x,clientY:M.top+f.current.y};K(R,p,!0)}},60)}}},oe=l=>{const p=j.current.get(l.pointerId);if(!p)return;const g=l.clientX-p.x,u=l.clientY-p.y;if(j.current.set(l.pointerId,{x:l.clientX,y:l.clientY}),l.pointerType==="mouse"&&i){i==="pan"?n({pan:{x:a.pan.x+g,y:a.pan.y+u}}):i==="rotate"&&n({rotation:{x:Math.max(-180,Math.min(180,a.rotation.x-u*.5)),y:a.rotation.y+g*.5}});return}if(l.pointerType==="touch"){if(!r)return;if(j.current.size===1&&n({rotation:{x:Math.max(-180,Math.min(180,a.rotation.x-u*.5)),y:a.rotation.y+g*.5}}),j.current.size===2){const C=Array.from(j.current.values()),I=C[0],M=C[1],R=Math.hypot(M.x-I.x,M.y-I.y);if(S.current){const P=(R-S.current)*.005;n({scale:Math.max(.5,Math.min(2.5,a.scale+P))})}S.current=R;const E={x:(I.x+M.x)/2,y:(I.y+M.y)/2};if(O.current){const P=E.x-O.current.x,G=E.y-O.current.y;n({pan:{x:a.pan.x+P,y:a.pan.y+G}})}O.current=E}}},ie=(l,p)=>{if(oe(l),!j.current.has(l.pointerId)||i||j.current.size>1)return;const g=x.current?.getBoundingClientRect();g&&v({x:l.clientX-g.left,y:l.clientY-g.top});const u=l.currentTarget.getBoundingClientRect();f.current={target:p,x:l.clientX-u.left,y:l.clientY-u.top,globalX:l.clientX,globalY:l.clientY}},q=l=>{j.current.delete(l.pointerId),j.current.size<2&&(S.current=null,O.current=null),j.current.size===0&&(y(null),v(null),f.current=null,T.current&&(clearInterval(T.current),T.current=null))},we=c.useMemo(()=>t.damagePoints.length===0?0:Math.min(2,t.damagePoints.length*.05)*(t.damagePoints.length%2===0?1:-1),[t.damagePoints.length]);return e.jsxs("div",{ref:x,className:`relative w-full max-w-5xl h-[700px] flex items-center justify-center select-none ${i?"cursor-move":"cursor-default"} touch-none`,onPointerUp:q,onPointerLeave:q,onPointerCancel:q,onContextMenu:l=>(l.preventDefault(),l.stopPropagation(),!1),onPointerDown:l=>{W(l)},onPointerMove:oe,children:[e.jsx("div",{className:"w-full h-full flex items-center justify-center pointer-events-none",style:{perspective:"1500px"},children:e.jsx("div",{className:"w-0 h-0 relative",style:{transformStyle:"preserve-3d",transform:`translate3d(${a.pan.x}px, ${a.pan.y}px, 0)`,transition:"none"},children:e.jsx("div",{className:`w-0 h-0 relative ${t.isShaking?"animate-shake":""}`,style:{transformStyle:"preserve-3d",transition:"none"},children:e.jsxs("div",{className:"absolute top-0 left-0 w-0 h-0",style:{transformStyle:"preserve-3d",transform:`scale(${a.scale}) rotateX(${a.rotation.x}deg) rotateY(${a.rotation.y}deg)`,transition:"none"},children:[e.jsxs("div",{className:"absolute bottom-0 left-[-300px] w-[600px] h-[360px] origin-bottom pointer-events-auto bg-white/[0.01]",style:{transformStyle:"preserve-3d",transform:`skewX(${we}deg)`},onPointerDown:l=>{l.stopPropagation(),W(l,"screen")},children:[e.jsxs("div",{className:`absolute inset-0 bg-[#111] rounded-t-xl border-8 border-neutral-800 border-b-0 shadow-2xl overflow-hidden z-20 ${i?"cursor-move":"cursor-crosshair"}`,onPointerMove:l=>ie(l,"screen"),style:{backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-black border border-neutral-700 z-50",children:e.jsx("div",{className:"absolute top-0 right-[-8px] w-1 h-1 rounded-full bg-green-500 animate-pulse"})}),e.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#0a0a0a] z-0",children:e.jsx("div",{className:"w-full h-full opacity-20 bg-[linear-gradient(0deg,transparent_24%,rgba(0,255,0,.3)_25%,rgba(0,255,0,.3)_26%,transparent_27%,transparent_74%,rgba(0,255,0,.3)_75%,rgba(0,255,0,.3)_76%,transparent_77%,transparent),linear-gradient(90deg,transparent_24%,rgba(0,255,0,.3)_25%,rgba(0,255,0,.3)_26%,transparent_27%,transparent_74%,rgba(0,255,0,.3)_75%,rgba(0,255,0,.3)_76%,transparent_77%,transparent)] bg-[length:30px_30px]"})}),e.jsx(Ot,{health:t.health,messages:t.messages,isGlitching:t.health<40||t.isShaking,stage:t.stage,popups:t.popups,onPopupClick:l=>{s({type:"CLOSE_POPUP",payload:l}),K({clientX:0,clientY:0,currentTarget:x.current},"popup",!1)}}),e.jsx(ce,{damagePoints:t.damagePoints,stage:t.stage,targetLayer:"screen"})]})]}),e.jsx("div",{className:"absolute inset-0 bg-neutral-800 rounded-t-xl border border-neutral-700 pointer-events-auto",style:{transform:"translateZ(-12px) rotateY(180deg)",backfaceVisibility:"hidden"},children:e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl font-bold text-neutral-900 transform scale-x-[-1]",children:"logo"})}),e.jsx("div",{className:"absolute top-0 left-0 w-[12px] h-full bg-neutral-700 origin-left",style:{transform:"rotateY(-90deg)"}}),e.jsx("div",{className:"absolute top-0 right-0 w-[12px] h-full bg-neutral-700 origin-right",style:{transform:"rotateY(90deg)"}}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-[12px] bg-neutral-700 origin-top",style:{transform:"rotateX(90deg)"}})]}),e.jsxs("div",{className:"absolute top-0 left-[-300px] w-[600px] h-[400px] origin-top pointer-events-auto bg-white/[0.01]",style:{transformStyle:"preserve-3d",transform:"rotateX(90deg)"},onPointerDown:l=>{l.stopPropagation(),W(l,"keyboard")},children:[e.jsxs("div",{className:`absolute inset-0 bg-gradient-to-b from-neutral-800 to-neutral-900 rounded-b-xl border-t border-white/5 shadow-2xl z-10 overflow-hidden ${i?"cursor-move":"cursor-crosshair"}`,onPointerMove:l=>ie(l,"keyboard"),style:{backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"w-full h-4 bg-neutral-900 border-b border-black mb-4"}),e.jsxs("div",{className:"mx-6 mt-2 opacity-60 pointer-events-none",children:[e.jsx("div",{className:"grid grid-cols-[repeat(15,minmax(0,1fr))] gap-1.5 mb-2",children:Array.from({length:15}).map((l,p)=>e.jsx("div",{className:"h-8 bg-black rounded-sm border-b-2 border-neutral-700 shadow-sm"},`r1-${p}`))}),e.jsx("div",{className:"grid grid-cols-[repeat(14,minmax(0,1fr))] gap-1.5 mb-2 px-4",children:Array.from({length:14}).map((l,p)=>e.jsx("div",{className:"h-8 bg-black rounded-sm border-b-2 border-neutral-700 shadow-sm"},`r2-${p}`))}),e.jsx("div",{className:"grid grid-cols-[repeat(14,minmax(0,1fr))] gap-1.5 mb-2 px-6",children:Array.from({length:14}).map((l,p)=>e.jsx("div",{className:"h-8 bg-black rounded-sm border-b-2 border-neutral-700 shadow-sm"},`r3-${p}`))}),e.jsx("div",{className:"grid grid-cols-[repeat(12,minmax(0,1fr))] gap-1.5 mb-8 px-12",children:Array.from({length:12}).map((l,p)=>e.jsx("div",{className:"h-8 bg-black rounded-sm border-b-2 border-neutral-700 shadow-sm"},`r4-${p}`))})]}),e.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 w-48 h-28 bg-neutral-800 rounded border border-neutral-900 shadow-inner"}),e.jsx("div",{className:"absolute bottom-8 left-10 w-8 h-8 bg-blue-900/50 rounded flex items-center justify-center text-[5px] text-white font-mono",children:"INTEL"}),e.jsx("div",{className:"absolute bottom-8 left-20 w-8 h-8 bg-green-900/50 rounded flex items-center justify-center text-[5px] text-white font-mono",children:"RTX"}),e.jsx(ce,{damagePoints:t.damagePoints,stage:t.stage,targetLayer:"keyboard"})]}),e.jsxs("div",{className:"absolute inset-0 bg-neutral-900 rounded-b-xl border border-neutral-800",style:{transform:"translateZ(-20px) rotateX(180deg)",backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"absolute top-10 left-10 w-full h-2 bg-neutral-800/50"}),e.jsx("div",{className:"absolute bottom-10 left-10 w-4 h-4 rounded-full bg-neutral-800"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-4 h-4 rounded-full bg-neutral-800"}),e.jsx("div",{className:"absolute top-10 left-10 w-4 h-4 rounded-full bg-neutral-800"}),e.jsx("div",{className:"absolute top-10 right-10 w-4 h-4 rounded-full bg-neutral-800"})]}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-[20px] bg-neutral-800 origin-top",style:{transform:"rotateX(-90deg)"}}),e.jsx("div",{className:"absolute top-0 left-0 w-[20px] h-full bg-neutral-800 origin-left",style:{transform:"rotateY(-90deg)"}}),e.jsx("div",{className:"absolute top-0 right-0 w-[20px] h-full bg-neutral-800 origin-right",style:{transform:"rotateY(90deg)"}}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[20px] bg-neutral-800 origin-bottom",style:{transform:"rotateX(90deg)"}})]})]})})})}),e.jsx($t,{particles:V}),e.jsx(Gt,{tool:t.selectedTool,isActive:!!b&&j.current.size<2&&!r,target:b,onAnimationEnd:()=>{}})]})},Vt=({selectedTool:t,unlockedTools:s,cycles:a,onSelect:n})=>e.jsx("div",{className:"absolute bottom-8 md:bottom-6 left-1/2 -translate-x-1/2 bg-neutral-900/90 backdrop-blur-md border border-white/10 rounded-2xl p-1.5 md:p-2 flex gap-2 shadow-2xl z-50 overflow-x-auto max-w-[95vw] scrollbar-hide",children:Object.values(d).map(r=>{const o=$[r],x=!s.includes(r),N=t===r;return e.jsx("button",{disabled:x,onClick:w=>{w.stopPropagation(),x||n(r)},className:`
              relative flex flex-col items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-xl transition-all duration-200 flex-shrink-0
              ${x?"bg-white/5 opacity-40 cursor-not-allowed grayscale":N?"bg-white/10 shadow-[0_0_15px_rgba(255,255,255,0.1)] scale-105 border border-white/20":"hover:bg-white/5 opacity-70 hover:opacity-100 border border-transparent"}
            `,children:x?e.jsxs("div",{className:"flex flex-col items-center justify-center text-neutral-500",children:[e.jsx(Je,{size:16,className:"mb-0.5 md:mb-1"}),e.jsxs("span",{className:"text-[8px] font-mono text-center leading-tight",children:["CLR",e.jsx("br",{}),o.unlockCycle]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xl md:text-2xl mb-0.5 md:mb-1 filter drop-shadow-md",children:o.icon}),e.jsx("span",{className:`text-[8px] md:text-[10px] uppercase tracking-wider font-bold ${N?o.color:"text-neutral-400"}`,children:o.name}),N&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 md:w-3 md:h-3 bg-green-500 rounded-full animate-pulse"})]})},r)})}),Ut=({currentScore:t,currentGameMode:s,onRestart:a,onGoHome:n,isNewScore:r})=>{const[o,x]=c.useState([]),[N,w]=c.useState("AAA"),[b,v]=c.useState(!r),i=c.useRef(null),[y,L]=c.useState(s||_.TIME_ATTACK);c.useEffect(()=>{const f=localStorage.getItem("pc_break_scores_v2");x(f?JSON.parse(f):[{name:"CPU",score:5e4,mode:_.TIME_ATTACK,date:new Date().toLocaleDateString()},{name:"RAM",score:3e4,mode:_.ENDLESS,date:new Date().toLocaleDateString()},{name:"GPU",score:1e4,mode:_.TIME_ATTACK,date:new Date().toLocaleDateString()}])},[]),c.useEffect(()=>{r&&!b&&setTimeout(()=>{i.current?.focus(),i.current?.select()},500)},[r,b]);const m=f=>{let T=f.target.value.toUpperCase();T=T.replace(/[^A-Z0-9!? ]/g,""),w(T)},j=f=>{if(f&&f.preventDefault(),!N.trim())return;const T={name:N.substring(0,3).padEnd(3," "),score:t,mode:s||_.ENDLESS,date:new Date().toLocaleDateString()},V=[...o,T].sort((U,F)=>F.score-U.score).slice(0,100);x(V),localStorage.setItem("pc_break_scores_v2",JSON.stringify(V)),v(!0)},S=o.filter(f=>f.mode===y);S.sort((f,T)=>T.score-f.score);const O=s!==null;return e.jsx("div",{className:"absolute inset-0 z-[100] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center p-4 text-white font-mono animate-in fade-in duration-300",children:b?e.jsxs("div",{className:"flex flex-col items-center w-full max-w-2xl h-full max-h-[85vh]",children:[e.jsx("div",{className:"flex flex-col items-center gap-1 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[e.jsx(ve,{size:24}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"ãƒ©ãƒ³ã‚­ãƒ³ã‚°"})]})}),e.jsxs("div",{className:"flex gap-4 mb-4 bg-neutral-900 p-1 rounded-full border border-neutral-800",children:[e.jsxs("button",{onClick:()=>L(_.TIME_ATTACK),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold transition-all ${y===_.TIME_ATTACK?"bg-neutral-700 text-white shadow":"text-neutral-500 hover:text-white"}`,children:[e.jsx(le,{size:14})," ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯"]}),e.jsxs("button",{onClick:()=>L(_.ENDLESS),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold transition-all ${y===_.ENDLESS?"bg-neutral-700 text-white shadow":"text-neutral-500 hover:text-white"}`,children:[e.jsx(ne,{size:14})," ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹"]})]}),e.jsxs("div",{className:"w-full bg-neutral-900/50 border border-neutral-800 rounded-lg overflow-hidden flex-1 mb-6 flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"grid grid-cols-12 bg-neutral-800 p-3 text-[10px] md:text-xs text-neutral-400 border-b border-neutral-700 font-bold tracking-wider",children:[e.jsx("div",{className:"col-span-1 text-center",children:"é †ä½"}),e.jsx("div",{className:"col-span-4",children:"åå‰"}),e.jsx("div",{className:"col-span-4 text-right",children:"ã‚¹ã‚³ã‚¢"}),e.jsx("div",{className:"col-span-3 text-right",children:"æ—¥ä»˜"})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 scrollbar-hide",children:[S.map((f,T)=>e.jsxs("div",{className:`grid grid-cols-12 p-3 border-b border-neutral-800 items-center text-xs md:text-sm ${f.score===t&&f.name===N&&r&&f.mode===s?"bg-blue-900/30 text-blue-200 animate-pulse":"text-neutral-300"}`,children:[e.jsx("div",{className:"col-span-1 text-center font-bold text-neutral-500",children:T===0?"ğŸ¥‡":T===1?"ğŸ¥ˆ":T===2?"ğŸ¥‰":T+1}),e.jsx("div",{className:"col-span-4 font-mono font-bold tracking-widest text-lg",children:f.name}),e.jsx("div",{className:"col-span-4 text-right font-mono font-bold text-yellow-500/90",children:f.score.toLocaleString()}),e.jsx("div",{className:"col-span-3 text-right text-[10px] text-neutral-500",children:f.date.slice(5)})]},T)),S.length===0&&e.jsx("div",{className:"p-8 text-center text-neutral-600 font-mono text-sm",children:"ãƒ‡ãƒ¼ã‚¿ãªã—"})]})]}),e.jsx("div",{className:"flex gap-4",children:O?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-neutral-800 hover:bg-neutral-700 text-white font-bold rounded-full transition-all hover:scale-105 shadow-lg border border-neutral-600",children:[e.jsx(xe,{size:18}),e.jsx("span",{className:"text-xs md:text-sm",children:"ã‚¿ã‚¤ãƒˆãƒ«ã¸"})]}),e.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-8 py-3 bg-white hover:bg-neutral-200 text-black font-bold rounded-full transition-all hover:scale-105 shadow-xl",children:[e.jsx(ht,{size:18}),e.jsx("span",{className:"text-xs md:text-sm",children:"ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤"})]})]}):e.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-8 py-3 bg-white hover:bg-neutral-200 text-black font-bold rounded-full transition-all hover:scale-105 shadow-xl",children:[e.jsx(xe,{size:18}),e.jsx("span",{className:"text-xs md:text-sm",children:"ã‚¿ã‚¤ãƒˆãƒ«ã¸æˆ»ã‚‹"})]})})]}):e.jsxs("div",{className:"flex flex-col items-center gap-8 w-full max-w-md animate-in slide-in-from-bottom-10 duration-500",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-yellow-500 animate-pulse",children:"è‡ªå·±æ–°è¨˜éŒ²ï¼"}),e.jsx("p",{className:"text-neutral-400 text-xs md:text-sm",children:s===_.TIME_ATTACK?"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯":"ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰"}),e.jsx("div",{className:"text-4xl md:text-6xl font-bold mt-4 font-mono tabular-nums",children:t.toLocaleString()})]}),e.jsxs("form",{onSubmit:j,className:"flex flex-col items-center gap-6 w-full",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{ref:i,type:"text",value:N,onChange:m,maxLength:3,className:"bg-neutral-900 border-2 border-blue-500 text-white text-5xl md:text-7xl font-mono text-center w-48 h-24 md:w-64 md:h-32 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-500/50 uppercase tracking-[0.5em] placeholder-neutral-700",placeholder:"___"}),e.jsx("div",{className:"absolute -bottom-6 left-0 w-full text-center text-[10px] text-neutral-500",children:"ã‚¿ãƒƒãƒ—ã—ã¦å…¥åŠ› (è‹±æ•°3æ–‡å­—)"})]}),e.jsx("button",{type:"submit",className:"mt-4 px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-full tracking-widest transition-all hover:scale-105 shadow-lg shadow-blue-900/50 w-full max-w-xs",children:"ç™»éŒ²ã™ã‚‹"})]})]})})},Kt=({onStart:t,onShowRanking:s,onShowInstructions:a})=>e.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0f0f11] text-white p-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900/10 via-black to-black pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-0 bg-[length:100%_4px,3px_100%] opacity-20 pointer-events-none"}),e.jsxs("div",{className:"z-10 flex flex-col items-center gap-6 w-full max-w-md animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(be,{size:64,className:"text-blue-500 filter drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]"}),e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsx(ae,{size:24,className:"text-yellow-400 animate-pulse"})})]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-black tracking-tighter text-center leading-none",children:["PC BREAK",e.jsx("span",{className:"block text-2xl md:text-3xl text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 font-mono mt-1",children:"2025"})]}),e.jsx("p",{className:"text-neutral-500 text-xs md:text-sm font-mono mt-4 tracking-widest text-center",children:"ã‚¹ãƒˆãƒ¬ã‚¹ç™ºæ•£ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ v2.5"})]}),e.jsxs("div",{className:"flex flex-col gap-3 w-full px-8",children:[e.jsxs("button",{onClick:()=>t(_.TIME_ATTACK),className:"group relative flex items-center justify-between p-4 bg-neutral-900/80 border border-neutral-700 hover:border-red-500 hover:bg-red-900/20 rounded-xl transition-all duration-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-neutral-800 rounded group-hover:bg-red-500 group-hover:text-white transition-colors",children:e.jsx(le,{size:24})}),e.jsxs("div",{className:"flex flex-col items-start text-left",children:[e.jsx("span",{className:"font-bold text-lg tracking-wide",children:"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯"}),e.jsx("span",{className:"text-xs text-neutral-400 group-hover:text-red-300",children:"2åˆ†é–“ã§ãƒã‚¤ã‚¹ã‚³ã‚¢ã‚’ç›®æŒ‡ã›"})]})]}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-red-500 transform scale-y-0 group-hover:scale-y-100 transition-transform origin-bottom"})]}),e.jsxs("button",{onClick:()=>t(_.ENDLESS),className:"group relative flex items-center justify-between p-4 bg-neutral-900/80 border border-neutral-700 hover:border-blue-500 hover:bg-blue-900/20 rounded-xl transition-all duration-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-neutral-800 rounded group-hover:bg-blue-500 group-hover:text-white transition-colors",children:e.jsx(ne,{size:24})}),e.jsxs("div",{className:"flex flex-col items-start text-left",children:[e.jsx("span",{className:"font-bold text-lg tracking-wide",children:"ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹"}),e.jsx("span",{className:"text-xs text-neutral-400 group-hover:text-blue-300",children:"æ°—ã®æ¸ˆã‚€ã¾ã§ç ´å£Šã™ã‚‹"})]})]}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-blue-500 transform scale-y-0 group-hover:scale-y-100 transition-transform origin-bottom"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 p-3 bg-neutral-900/50 border border-neutral-800 rounded-lg hover:bg-neutral-800 hover:text-yellow-400 transition-colors",children:[e.jsx(ve,{size:16}),e.jsx("span",{className:"font-mono font-bold text-xs",children:"ãƒ©ãƒ³ã‚­ãƒ³ã‚°"})]}),e.jsxs("button",{onClick:a,className:"flex items-center justify-center gap-2 p-3 bg-neutral-900/50 border border-neutral-800 rounded-lg hover:bg-neutral-800 hover:text-green-400 transition-colors",children:[e.jsx(Ge,{size:16}),e.jsx("span",{className:"font-mono font-bold text-xs",children:"éŠã³æ–¹"})]})]})]}),e.jsxs("div",{className:"mt-8 text-[10px] text-neutral-600 font-mono text-center px-4",children:["è­¦å‘Š: ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã«å¯¾ã™ã‚‹éæ¿€ãªç ´å£Šè¡¨ç¾ãŒå«ã¾ã‚Œã¾ã™ã€‚",e.jsx("br",{}),"ã“ã®ã‚¢ãƒ—ãƒªã®åˆ¶ä½œéç¨‹ã§æœ¬ç‰©ã®ãƒ‡ãƒã‚¤ã‚¹ã¯ä¸€åˆ‡å‚·ã¤ã‘ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“ã€‚"]})]})]}),Bt=({onBack:t})=>e.jsx("div",{className:"absolute inset-0 z-[100] bg-[#0f0f11] text-white overflow-y-auto overflow-x-hidden animate-in fade-in slide-in-from-right duration-300",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-12 pb-24",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8 border-b border-neutral-800 pb-4",children:[e.jsx("button",{onClick:t,className:"p-2 hover:bg-neutral-800 rounded-full transition-colors",children:e.jsx(Re,{size:24})}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold font-mono tracking-tight",children:"æ“ä½œèª¬æ˜ & éŠã³æ–¹"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-blue-400 flex items-center gap-2",children:[e.jsx(Nt,{size:20}),"ã‚²ãƒ¼ãƒ ã®ç›®çš„"]}),e.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-800 text-sm md:text-base leading-relaxed text-neutral-300",children:[e.jsxs("p",{className:"mb-2",children:["æœ€æ–°ã®ã‚²ãƒ¼ãƒŸãƒ³ã‚°PCã‚’å¾¹åº•çš„ã«",e.jsx("span",{className:"text-red-500 font-bold",children:"ç ´å£Š"}),"ã—ã¦ãã ã•ã„ã€‚ ãƒ¢ãƒ‹ã‚¿ãƒ¼ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ã•ã‚‰ã«ã¯AIãŒç¹°ã‚Šå‡ºã™é˜²å¾¡ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼‰ã‚’å£Šã™ã“ã¨ã§ã‚¹ã‚³ã‚¢ãŒå…¥ã‚Šã¾ã™ã€‚"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2 text-neutral-400",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"ã‚¿ã‚¤ãƒ ã‚¢ã‚¿ãƒƒã‚¯:"})," 2åˆ†é–“ã®åˆ¶é™æ™‚é–“å†…ã§ãƒã‚¤ã‚¹ã‚³ã‚¢ã‚’ç«¶ã„ã¾ã™ã€‚"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹:"})," æ™‚é–“ç„¡åˆ¶é™ã€‚PCã‚’ä½•å°å£Šã›ã‚‹ã‹æŒ‘æˆ¦ã—ã¾ã™ã€‚"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-yellow-400 flex items-center gap-2",children:[e.jsx(ge,{size:20}),"åŸºæœ¬æ“ä½œ"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-800",children:[e.jsx("h3",{className:"text-sm font-bold text-neutral-400 mb-3 flex items-center gap-2",children:"ğŸ–¥ï¸ PC / ãƒã‚¦ã‚¹æ“ä½œ"}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(fe,{size:18,className:"text-blue-400 shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"å·¦ã‚¯ãƒªãƒƒã‚¯:"})," æ”»æ’ƒ / ç ´å£Š"]})]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(mt,{size:18,className:"text-green-400 shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"å³ãƒ‰ãƒ©ãƒƒã‚° (or å·¦ãƒ‰ãƒ©ãƒƒã‚°):"})," ã‚«ãƒ¡ãƒ©å›è»¢"]})]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(ye,{size:18,className:"text-purple-400 shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"SPACE + ãƒ‰ãƒ©ãƒƒã‚°:"})," ã‚«ãƒ¡ãƒ©ç§»å‹•"]})]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-mono text-xs border border-neutral-600 px-1 rounded text-neutral-400",children:"R"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"Rã‚­ãƒ¼:"})," è¦–ç‚¹ãƒªã‚»ãƒƒãƒˆ"]})]})]})]}),e.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-800",children:[e.jsx("h3",{className:"text-sm font-bold text-neutral-400 mb-3 flex items-center gap-2",children:"ğŸ“± ã‚¹ãƒãƒ› / ã‚¿ãƒƒãƒæ“ä½œ"}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(me,{size:18,className:"text-blue-400 shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"ã‚¿ãƒƒãƒ—:"})," æ”»æ’ƒ / ç ´å£Š"]})]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex gap-0.5",children:e.jsx("div",{className:"w-2 h-2 bg-neutral-500 rounded-full"})}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"ã‚«ãƒ¡ãƒ©ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿:"})," å³ä¸Šã® ",e.jsx("span",{className:"inline-block bg-neutral-800 p-1 rounded-full",children:e.jsx(me,{size:10})})," ãƒœã‚¿ãƒ³ã§æ”»æ’ƒã¨è¦–ç‚¹æ“ä½œã‚’åˆ‡ã‚Šæ›¿ãˆ"]})]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-white",children:"2æœ¬æŒ‡ãƒ”ãƒ³ãƒ/ã‚¹ãƒ©ã‚¤ãƒ‰:"})," æ‹¡å¤§ç¸®å°ãƒ»ç§»å‹•"]})]})]})]})]})]}),e.jsxs("section",{className:"space-y-4 md:col-span-2",children:[e.jsxs("h2",{className:"text-xl font-bold text-red-400 flex items-center gap-2",children:[e.jsx(Be,{size:20}),"æ­¦å™¨ã¨ã‚¢ãƒ³ãƒ­ãƒƒã‚¯"]}),e.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-800",children:[e.jsx("p",{className:"text-sm text-neutral-400 mb-4",children:"PCã‚’å®Œå…¨ã«ç ´å£Šã—ã€ã€Œæ¬¡ã®PCã€ã¸é€²ã‚€ï¼ˆã‚µã‚¤ã‚¯ãƒ«ã‚’é€²ã‚ã‚‹ï¼‰ã“ã¨ã§ã€ã‚ˆã‚Šå¼·åŠ›ãªæ­¦å™¨ãŒã‚¢ãƒ³ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.values(d).map(s=>{const a=$[s];return e.jsxs("div",{className:"flex flex-col items-center p-3 bg-black/40 rounded border border-neutral-800 text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:a.icon}),e.jsx("div",{className:`font-bold text-xs md:text-sm mb-1 ${a.color}`,children:a.name}),e.jsx("div",{className:"text-[10px] text-neutral-500",children:a.description}),e.jsx("div",{className:"mt-2 text-[10px] bg-neutral-800 px-2 py-0.5 rounded text-neutral-400",children:a.unlockCycle===0?"åˆæœŸè£…å‚™":`${a.unlockCycle}å°ç ´å£Šã§è§£æ”¾`})]},s)})})]})]}),e.jsxs("section",{className:"space-y-4 md:col-span-2",children:[e.jsxs("h2",{className:"text-xl font-bold text-purple-400 flex items-center gap-2",children:[e.jsx(ae,{size:20}),"æ”»ç•¥ã®ãƒ’ãƒ³ãƒˆ"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-800 flex gap-3",children:[e.jsx(Ne,{className:"text-red-500 shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{className:"block text-white mb-1",children:"AIã®åæ’ƒã«æ³¨æ„"}),e.jsxs("p",{className:"text-neutral-400",children:["ç ´å£ŠãŒé€²ã‚€ã¨AIãŒå¤§é‡ã®ã‚¨ãƒ©ãƒ¼ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼‰ã‚’å‡ºã—ã¦é˜²å¾¡ã—ã¾ã™ã€‚",e.jsx("br",{}),"ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒå‡ºã¦ã„ã‚‹é–“ã¯æœ¬ä½“ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ãŒé€šã‚Šã¾ã›ã‚“ã€‚å…ˆã«ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’å…¨ã¦ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç ´å£Šã—ã¦ãã ã•ã„ã€‚"]})]})]}),e.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-800 flex gap-3",children:[e.jsx(ae,{className:"text-yellow-500 shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{className:"block text-white mb-1",children:"åŠ¹ç‡çš„ãªç ´å£Š"}),e.jsxs("p",{className:"text-neutral-400",children:["ãƒãƒ³ãƒãƒ¼ã‚„ãƒ¢ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¹ã‚¿ãƒ¼ã¯å¨åŠ›ãŒé«˜ã„ã§ã™ãŒã€é€£æ‰“ãŒåŠ¹ãã¾ã›ã‚“ã€‚",e.jsx("br",{}),"ãƒã‚·ãƒ³ã‚¬ãƒ³ï¼ˆLv4è§£æ”¾ï¼‰ã¯æŠ¼ã—ã£ã±ãªã—ã§é€£å°„å¯èƒ½ã§ã€ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®å‡¦ç†ã«æœ€é©ã§ã™ã€‚"]})]})]})]})]})]}),e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsx("button",{onClick:t,className:"px-8 py-3 bg-white text-black font-bold rounded-full hover:scale-105 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:"ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹"})})]})}),re=120,Z={x:-10,y:-12},J={x:-10,y:99},Q=.9,ee={x:-26,y:331},te={x:26,y:-6},se=.5,Y={damagePoints:[],selectedTool:d.FINGER,health:100,score:0,stage:k.SYSTEM_ACTIVE,gameStatus:A.TITLE,gameMode:null,timeLeft:re,cycles:0,unlockedTools:[d.FINGER],isShaking:!1,activeAnimation:null,messages:[],popups:[]},ue=["SYSTEM ERROR","WARNING","SECURITY ALERT","ACCESS DENIED","CRITICAL FAILURE"],he=["Unauthorized access detected.","Deleting System32...","CPU Temperature: 9000Â°C","Stop it.","I'm afraid I can't let you do that.","Firewall: ACTIVATED","Shields UP.","Memory Leak Detected"],Xt=(t,s)=>{switch(s.type){case"START_GAME":return{...Y,gameStatus:A.PLAYING,gameMode:s.payload,timeLeft:re,unlockedTools:[d.FINGER],cycles:0};case"SHOW_RANKING":return{...t,gameStatus:A.LEADERBOARD,gameMode:null};case"SHOW_INSTRUCTIONS":return{...t,gameStatus:A.INSTRUCTIONS};case"GO_HOME":return{...Y};case"TICK":if(t.gameStatus!==A.PLAYING||t.gameMode!==_.TIME_ATTACK)return t;const a=t.timeLeft-1;return a<=0?{...t,timeLeft:0,gameStatus:A.NAME_ENTRY}:{...t,timeLeft:a};case"ADD_DAMAGE":if(t.gameStatus!==A.PLAYING)return t;if(t.popups.length>0&&s.payload.damage?.target!=="popup")return{...t,isShaking:!0,activeAnimation:s.payload.damage?{id:Date.now().toString(),x:s.payload.damage.x,y:s.payload.damage.y}:t.activeAnimation};const n=Math.max(0,t.health-s.payload.damageAmount);let r=!1;s.payload.damage&&(r=s.payload.damage.type===d.HAMMER||s.payload.damage.type===d.BAT||s.payload.damage.type===d.MORNING_STAR||s.payload.damage.type===d.KICK||t.stage===k.SYSTEM_ACTIVE&&n<20);const o=s.payload.damage?[...t.damagePoints,s.payload.damage]:t.damagePoints;return{...t,damagePoints:o,health:n,score:t.score+s.payload.score,isShaking:r||t.isShaking,activeAnimation:s.payload.damage?{id:Date.now().toString(),x:s.payload.damage.x,y:s.payload.damage.y}:t.activeAnimation};case"SPAWN_POPUPS":const x=s.payload,N=[];for(let y=0;y<x;y++)N.push({id:Math.random().toString(),x:10+Math.random()*60,y:10+Math.random()*60,title:ue[Math.floor(Math.random()*ue.length)],message:he[Math.floor(Math.random()*he.length)]});return{...t,popups:[...t.popups,...N]};case"CLOSE_POPUP":return{...t,popups:t.popups.filter(y=>y.id!==s.payload)};case"ADVANCE_STAGE":return t.stage===k.SYSTEM_ACTIVE?{...t,stage:k.HARDWARE_DESTRUCTION,health:100,messages:[],popups:[]}:t.stage===k.HARDWARE_DESTRUCTION?{...t,stage:k.SCRAP_HEAP,health:0}:t;case"SET_TOOL":return{...t,selectedTool:s.payload};case"STOP_SHAKE":return{...t,isShaking:!1};case"END_ANIMATION":return{...t,activeAnimation:null};case"ADD_MESSAGE":return{...t,messages:[...t.messages,s.payload]};case"RESET_CYCLE":const w=t.cycles+1,b=[...t.unlockedTools];Object.values(d).forEach(y=>{$[y].unlockCycle<=w&&!b.includes(y)&&b.push(y)});const v=Object.values(d);let i=t.selectedTool;for(let y=v.length-1;y>=0;y--)if(b.includes(v[y])){i=v[y];break}return{...t,damagePoints:[],health:100,stage:k.SYSTEM_ACTIVE,cycles:w,unlockedTools:b,selectedTool:i,messages:[],popups:[]};case"FINISH_GAME":return{...t,gameStatus:A.NAME_ENTRY};case"RESTART_FULL_GAME":return t.gameMode?{...Y,gameStatus:A.PLAYING,gameMode:t.gameMode,timeLeft:re,unlockedTools:[d.FINGER],cycles:0}:{...Y};default:return t}},Zt=()=>{const[t,s]=c.useReducer(Xt,Y),[a,n]=c.useState(.5),r=typeof window<"u"&&window.innerWidth<768,[o,x]=c.useState(!1),[N,w]=c.useState(!1),[b,v]=c.useState({rotation:r?ee:Z,pan:r?te:J,scale:r?se:Q});c.useEffect(()=>{const m=j=>{if(j.code==="KeyR"){const S=window.innerWidth<768;v({rotation:S?ee:Z,pan:S?te:J,scale:S?se:Q})}};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[]);const i=m=>{v(j=>({...j,...m}))};c.useEffect(()=>{D.setVolume(a)},[a]),c.useEffect(()=>{let m;return t.gameStatus===A.PLAYING&&t.gameMode===_.TIME_ATTACK&&(m=setInterval(()=>{s({type:"TICK"})},1e3)),()=>clearInterval(m)},[t.gameStatus,t.gameMode]),c.useEffect(()=>{if(t.isShaking){const m=setTimeout(()=>{s({type:"STOP_SHAKE"})},500);return()=>clearTimeout(m)}},[t.isShaking]),c.useEffect(()=>{if(t.health<=0){if(t.stage===k.SYSTEM_ACTIVE){const m=setTimeout(()=>s({type:"ADVANCE_STAGE"}),1e3);return()=>clearTimeout(m)}else if(t.stage===k.HARDWARE_DESTRUCTION){const m=setTimeout(()=>s({type:"ADVANCE_STAGE"}),500);return()=>clearTimeout(m)}}},[t.health,t.stage]),c.useEffect(()=>{if(t.stage===k.SCRAP_HEAP&&t.gameStatus===A.PLAYING){const j=setTimeout(()=>{s({type:"RESET_CYCLE"})},2500);return()=>clearTimeout(j)}},[t.stage,t.gameStatus]),c.useEffect(()=>{t.stage===k.SYSTEM_ACTIVE&&t.messages.length>0&&t.messages[t.messages.length-1].sender==="ai"&&(Math.random()<.4||t.health<30)&&(D.playZap(.3),s({type:"SPAWN_POPUPS",payload:Math.floor(Math.random()*3)+2}))},[t.messages]);const y=Object.values(d).find(m=>$[m].unlockCycle===t.cycles+1);y&&`${$[y].name}`;const L=(o||N)&&t.gameStatus===A.PLAYING;return e.jsxs("div",{className:"w-full h-[calc(100dvh-80px)] md:h-[800px] min-h-[500px] bg-[#0f0f11] text-white overflow-hidden flex flex-col items-center selection:bg-none relative border border-neutral-800 rounded-lg shadow-2xl isolate z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-neutral-800/30 via-neutral-900/50 to-[#0f0f11] pointer-events-none"}),t.gameStatus!==A.TITLE&&e.jsx("main",{className:"absolute inset-0 w-full h-full flex items-center justify-center overflow-hidden z-0",children:e.jsx(Yt,{state:t,dispatch:s,viewState:b,onViewChange:i,isViewModeEnabled:o||N||t.gameStatus!==A.PLAYING,onInteractionStateChange:w})}),t.gameStatus===A.TITLE&&e.jsx(Kt,{onStart:m=>s({type:"START_GAME",payload:m}),onShowRanking:()=>s({type:"SHOW_RANKING"}),onShowInstructions:()=>s({type:"SHOW_INSTRUCTIONS"})}),t.gameStatus===A.INSTRUCTIONS&&e.jsx(Bt,{onBack:()=>s({type:"GO_HOME"})}),(t.gameStatus===A.NAME_ENTRY||t.gameStatus===A.LEADERBOARD)&&e.jsx(Ut,{currentScore:t.score,currentGameMode:t.gameMode,isNewScore:t.gameStatus===A.NAME_ENTRY,onRestart:()=>s({type:"RESTART_FULL_GAME"}),onGoHome:()=>s({type:"GO_HOME"})}),t.gameStatus===A.PLAYING&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"absolute top-0 left-0 w-full px-4 py-2 md:p-6 flex justify-between items-center z-50 bg-gradient-to-b from-black/80 to-transparent pointer-events-none h-14 md:h-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[e.jsx(be,{className:"text-blue-500 w-5 h-5 md:w-6 md:h-6"}),e.jsxs("div",{className:"flex flex-col leading-none",children:[e.jsxs("h1",{className:"text-sm md:text-xl font-bold tracking-tighter",children:["PC Break",e.jsx("span",{className:"text-neutral-500",children:"2025"})]}),e.jsxs("span",{className:"text-[8px] md:text-[10px] text-neutral-400 font-mono",children:["PC #",t.cycles+1," â€¢ ",t.gameMode===_.TIME_ATTACK?"TIME ATTACK":"ENDLESS"]})]})]}),e.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-2 md:top-6 flex flex-col items-center pointer-events-auto w-40",children:t.gameMode===_.TIME_ATTACK?e.jsxs("div",{className:`flex flex-col items-center ${t.timeLeft<10?"animate-pulse text-red-500":"text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(le,{size:12}),e.jsx("span",{className:"text-[8px] md:text-[10px] tracking-widest uppercase",children:"TIME LIMIT"})]}),e.jsxs("div",{className:"text-xl md:text-3xl font-mono font-bold tabular-nums",children:[Math.floor(t.timeLeft/60),":",(t.timeLeft%60).toString().padStart(2,"0")]}),e.jsxs("div",{className:"text-[10px] text-yellow-500 font-mono",children:[t.score.toLocaleString()," PTS"]})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-neutral-500",children:[e.jsx(ne,{size:12}),e.jsx("span",{className:"text-[8px] md:text-[10px] tracking-widest uppercase",children:"ENDLESS"})]}),e.jsx("div",{className:"text-lg md:text-2xl font-mono font-bold text-yellow-500 tabular-nums",children:t.score.toLocaleString()})]})}),e.jsxs("div",{className:"pointer-events-auto flex items-center gap-2 md:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 group bg-neutral-900/50 backdrop-blur p-1.5 rounded-full border border-neutral-800",children:[e.jsx("button",{onClick:()=>n(m=>m===0?.5:0),className:"text-neutral-400 hover:text-white transition-colors",children:a===0?e.jsx(Mt,{size:14}):e.jsx(je,{size:14})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:a,onChange:m=>n(parseFloat(m.target.value)),className:"w-12 md:w-16 h-1 bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-blue-500 hidden md:block"})]}),e.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation(),s({type:"GO_HOME"})},onPointerDown:m=>m.stopPropagation(),onMouseDown:m=>m.stopPropagation(),className:"bg-neutral-900/50 backdrop-blur p-2 rounded-full border border-neutral-800 text-neutral-400 hover:text-white hover:bg-red-500/20 hover:border-red-500/50 transition-all pointer-events-auto z-50",title:"ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹",children:e.jsx(et,{size:16})}),t.gameMode===_.ENDLESS&&e.jsxs("button",{onClick:()=>s({type:"FINISH_GAME"}),className:"flex items-center gap-1 md:gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-red-500/20 border border-red-500 text-red-500 rounded-full hover:bg-red-500 hover:text-white transition-all shadow-[0_0_15px_rgba(239,68,68,0.4)]",children:[e.jsx(bt,{size:12,fill:"currentColor"}),e.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase",children:"çµ‚äº†"})]}),t.stage===k.SCRAP_HEAP&&e.jsxs("button",{onClick:()=>s({type:"RESET_CYCLE"}),className:"flex items-center gap-1 md:gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-yellow-500/20 border border-yellow-500 text-yellow-500 rounded-full animate-pulse hover:bg-yellow-500/30 transition-colors",children:[e.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase",children:"æ¬¡ã¸"}),e.jsx(it,{size:12,fill:"currentColor"})]}),e.jsx("button",{onClick:()=>x(!o),className:`p-2 rounded-full transition-colors ${o?"bg-blue-600 text-white shadow-lg shadow-blue-500/50":"bg-neutral-800 text-neutral-400"}`,title:"ã‚«ãƒ¡ãƒ©æ“ä½œãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿",children:e.jsx(Le,{size:18})})]})]}),e.jsxs("div",{className:`absolute top-16 left-4 z-20 flex flex-col gap-2 pointer-events-auto transition-all duration-300 transform ${L?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 pointer-events-none"}`,children:[e.jsxs("div",{className:"hidden md:flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm select-none",children:[e.jsx(fe,{size:14,className:"text-blue-400"}),e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"å·¦ãƒ‰ãƒ©ãƒƒã‚°: å›è»¢"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm select-none",children:[e.jsx(ge,{size:14,className:"text-yellow-400"}),e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"å³ãƒ‰ãƒ©ãƒƒã‚°: å›è»¢"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm select-none",children:[e.jsx(ye,{size:14,className:"text-green-400"}),e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"SPACE+ãƒ‰ãƒ©ãƒƒã‚°: ç§»å‹•"})]})]}),e.jsxs("div",{className:"md:hidden flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm select-none",children:e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"ğŸ‘† 1æœ¬æŒ‡ã‚¹ãƒ©ã‚¤ãƒ‰: å›è»¢"})}),e.jsx("div",{className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm select-none",children:e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"âœŒï¸ 2æœ¬æŒ‡ã‚¹ãƒ©ã‚¤ãƒ‰: ç§»å‹•"})}),e.jsx("div",{className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm select-none",children:e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"ğŸ¤ ãƒ”ãƒ³ãƒ: æ‹¡å¤§ç¸®å°"})})]}),e.jsxs("button",{onClick:()=>v({rotation:r?ee:Z,pan:r?te:J,scale:r?se:Q}),className:"flex items-center gap-2 text-neutral-300 bg-neutral-900/80 hover:bg-white/10 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm transition-colors text-left",children:[e.jsx(dt,{size:14,className:"text-green-400"}),e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"è¦–ç‚¹ãƒªã‚»ãƒƒãƒˆ"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>i({scale:Math.min(2.5,b.scale+.1)}),className:"flex-1 flex items-center justify-center gap-2 text-neutral-300 bg-neutral-900/80 hover:bg-white/10 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm transition-colors",title:"æ‹¡å¤§",children:[e.jsx(Lt,{size:16}),e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"æ‹¡å¤§"})]}),e.jsxs("button",{onClick:()=>i({scale:Math.max(.5,b.scale-.1)}),className:"flex-1 flex items-center justify-center gap-2 text-neutral-300 bg-neutral-900/80 hover:bg-white/10 px-3 py-2 rounded border border-white/10 shadow-lg backdrop-blur-sm transition-colors",title:"ç¸®å°",children:[e.jsx(Dt,{size:16}),e.jsx("span",{className:"text-[10px] font-mono font-bold",children:"ç¸®å°"})]})]})]}),(o||N)&&e.jsxs("div",{className:"absolute bottom-32 left-4 z-20 bg-black/50 p-2 rounded text-[10px] font-mono text-green-400 pointer-events-none",children:[e.jsxs("div",{children:["ROT: ",Math.round(b.rotation.x),", ",Math.round(b.rotation.y)]}),e.jsxs("div",{children:["PAN: ",Math.round(b.pan.x),", ",Math.round(b.pan.y)]})]}),e.jsx("div",{className:"absolute top-16 md:top-24 right-4 md:right-6 z-10 pointer-events-none",children:e.jsxs("div",{className:"text-right space-y-1",children:[e.jsx("p",{className:"text-[10px] md:text-xs text-neutral-500 uppercase tracking-widest",children:t.stage===k.SYSTEM_ACTIVE?"ã‚·ã‚¹ãƒ†ãƒ è€ä¹…åº¦":t.stage===k.HARDWARE_DESTRUCTION?"ç­ä½“è€ä¹…åº¦":"ã‚¹ã‚¯ãƒ©ãƒƒãƒ—çŠ¶æ…‹"}),t.popups.length>0&&e.jsxs("div",{className:"text-red-500 font-bold font-mono text-xs animate-pulse mb-1",children:["âš ï¸ é˜²è¡›ã‚·ã‚¹ãƒ†ãƒ ä½œå‹•ä¸­ ",e.jsx("br",{})," ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’ç ´å£Šã›ã‚ˆ"]}),t.stage!==k.SCRAP_HEAP&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-32 md:w-48 h-1.5 md:h-2 bg-neutral-800 rounded-full overflow-hidden ml-auto",children:e.jsx("div",{className:`h-full transition-all duration-300 ${t.health<30?"bg-red-500":"bg-blue-500"}`,style:{width:`${t.health}%`}})}),e.jsxs("p",{className:`text-lg md:text-xl font-mono font-bold ${t.health<30?"text-red-500 animate-pulse":"text-white"}`,children:[Math.round(t.health),"%"]})]}),t.stage===k.SCRAP_HEAP&&e.jsx("p",{className:"text-lg md:text-xl font-mono font-bold text-neutral-600",children:"å…¨æ"})]})}),t.stage===k.HARDWARE_DESTRUCTION&&t.health===100&&t.damagePoints.length>0&&e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none animate-ping opacity-50 z-50",children:e.jsx("div",{className:"text-2xl md:text-4xl font-bold text-red-500 whitespace-nowrap",children:"SYSTEM OFFLINE"})}),t.stage===k.SCRAP_HEAP&&e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 flex flex-col items-center pointer-events-none",children:[e.jsx("div",{className:"text-4xl md:text-6xl font-black text-yellow-500 tracking-tighter animate-bounce drop-shadow-[0_0_20px_rgba(234,179,8,0.5)] whitespace-nowrap",children:"STAGE CLEAR"}),e.jsx("div",{className:"text-white font-mono mt-2 animate-pulse",children:"NEXT PC LOADING..."})]})]}),t.gameStatus===A.PLAYING&&e.jsx(Vt,{selectedTool:t.selectedTool,unlockedTools:t.unlockedTools,cycles:t.cycles,onSelect:m=>s({type:"SET_TOOL",payload:m})})]})};export{Zt as default};
